!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/dist/",t(t.s=2)}([function(n,e,t){(function(n){var r=void 0!==n&&n||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(n,e){this._id=n,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(n){n&&n.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(n,e){clearTimeout(n._idleTimeoutId),n._idleTimeout=e},e.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},e._unrefActive=e.active=function(n){clearTimeout(n._idleTimeoutId);var e=n._idleTimeout;e>=0&&(n._idleTimeoutId=setTimeout((function(){n._onTimeout&&n._onTimeout()}),e))},t(4),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n&&n.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n&&n.clearImmediate||this&&this.clearImmediate}).call(this,t(1))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(module,exports,__webpack_require__){function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}if(window.hyper_core_version="2.1.3",window.version={},window.version["in.juspay.hyperos"]={},window.version["in.juspay.hyperos"].app=window.hyper_core_version,window.shouldBufferLogs=!0,window.processTriggered=!1,JBridge&&JBridge.setInSharedPrefs&&JBridge.getResourceByName)try{"true"!=JBridge.getResourceByName("block_failed_hash")&&JBridge.setInSharedPrefs("jp_asset_manage","false")}catch(n){JBridge.setInSharedPrefs("jp_asset_manage","false")}var whiteListedEvents=["initiate_result","process_result","hide_loader","show_loader","log_stream","user_event","paymentAttempt"];try{var sdkConfigJSON=JBridge.loadFileInDUI("sdk_config.json"),sdkConfig=JSON.parse(sdkConfigJSON);"object"==_typeof(sdkConfig)&&Array.isArray(sdkConfig.whiteListedEvents)&&whiteListedEvents.push(sdkConfig.whiteListedEvents)}catch(n){if(window.Analytics&&"function"==typeof window.Analytics.trackError){var msg="string"==typeof e.message?e.message:"",stack="string"==typeof e.stack?e.stack:"";window.Analytics.trackError(msg)(stack)("Exception while trying to set new white listed events from sdk_config.json")()}}JBridge&&JBridge.setWhiteListedEvents&&JBridge.setWhiteListedEvents(whiteListedEvents),console.log("apple pie"),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(n){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),t=e.length>>>0;if("function"!=typeof n)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<t;){var i=e[o];if(n.call(r,i,o,e))return o;o++}return-1},configurable:!0,writable:!0}),window._jbridge=JBridge;var purescript=__webpack_require__(3);try{eval(_jbridge.loadFileInDUI("v1-tracker.jsa")),window.getTrackerModule&&window.getTrackerModule.Main&&window.getTrackerModule.Main.initTracker&&(window.Analytics=window.getTrackerModule.Main.initTracker("os")),window.Analytics.trackMicroAppVerison(window.hyper_core_version)()}catch(n){console.log("Tracker eval failed at ",n)}var state={hasInitiated:!1,rootServices:[]};function getOrderId(n){if(n.orderId)return n.orderId;if(n.orderDetails){var e=JSON.parse(n.orderDetails);if(e)return e.order_id}}function logPayload(n){if(window.Analytics&&void 0!==n.payload&&window.__payload){var e;try{var t=n.payload,r=window.__payload.payload;e=getOrderId(t)}catch(n){console.log("log Payload fa",n)}var o=new Object;o.merchant_id=r.merchantId,o.client_id=r.clientId,o.order_id=e,void 0!==window.Analytics._trackContext&&window.Analytics._trackContext("payment")("info")("payment_details")(o)()}}window.onMerchantEvent=function(n,e,t){if("initiate"==n){var r=JSON.parse(e);if(r.hasOwnProperty("attempt_recovery")&&(state.hasInitiated=!1,state.rootServices=[]),state.hasInitiated)if(state.rootServices.indexOf(r.service)){a=purescript.Core.getDependantMicroAppChain(e)(r.service)();for(var o=[],i=0;i<a.length;++i)-1==state.rootServices.indexOf(a[i])&&(o.push(a[i]),purescript.Core.respawn(e)(a[i])());state.rootServices=state.rootServices.concat(o)}else window.mapps&&window.mapps[r.service]&&window.mapps[r.service].contentWindow&&"function"==typeof window.mapps[r.service].contentWindow.onMerchantEvent?window.mapps[r.service].contentWindow.onMerchantEvent(n,e):(window.cachedResult=window.cachedResult||{},window.cachedResult[r.service]=window.cachedResult[r.service]||[],window.cachedResult[r.service].push({event:"onMerchantEvent",data:[n,e],callback:t}));else{state.hasInitiated=!0,purescript.Core.main(n)(e)();var a=purescript.Core.getDependantMicroAppChain(e)(r.service)();state.rootServices=state.rootServices.concat(a)}window.__payload=r,logPayload(r)}else if("respawn"==n)purescript.Core.respawn(JSON.stringify(window.__payload))(e)();else if("prefetch"==n)window.__payload=JSON.parse(e),purescript.Core.prefetch(e)();else if("InitTracker"==n)window.getTrackerModule&&window.getTrackerModule.Main&&window.getTrackerModule.Main.initTracker&&(window.Analytics=window.getTrackerModule.Main.initTracker("hyperos"));else{"process"==n&&1!=window.processTriggered&&"object"==_typeof(window.updateTrackerState)&&"function"==typeof window.updateTrackerState.processStarted&&(window.processTriggered=!0,window.updateTrackerState.processStarted());var u=window.eventListeners.onMerchantEvent||[];try{var c=JSON.parse(e);if(c.service)if(-1!=(a=purescript.Core.getDependantMicroAppChain(e)(c.service)()).indexOf(c.service)){if(-1!=u.indexOf(c.service)&&window.mapps&&window.mapps[c.service]&&window.mapps[c.service].contentWindow&&"function"==typeof window.mapps[c.service].contentWindow.onMerchantEvent)return logPayload(c),window.mapps[c.service].contentWindow.onMerchantEvent.apply(void 0,arguments);window.cachedResult=window.cachedResult||{},window.cachedResult[c.service]=window.cachedResult[c.service]||[],window.cachedResult[c.service].push({event:"onMerchantEvent",data:[n,e],callback:t})}else JBridge.runInJuspayBrowser("onEvent",JSON.stringify({event:n+"_result",requestId:c.requestId,service:c.service,payload:{},error:!0,errorMessage:c.service+" not yet initiated",errorCode:"JP_OS_001"}),"");else JBridge.runInJuspayBrowser("onEvent",JSON.stringify({event:n+"_result",requestId:c.requestId,service:"",payload:{},error:!0,errorMessage:"Service  not passed",errorCode:"JP_OS_003"}),"")}catch(t){JBridge.runInJuspayBrowser("onEvent",JSON.stringify({requestId:"",service:"",payload:{error:t,payload:e},error:!0,errorMessage:n+": incorrect payload",errorCode:"JP_OS_002"}),""),console.log("Todo add asset fallback logic")}}},window.onBackPressed=function(){if(window.mappStack.length>0&&void 0!==window.mapps){var n=window.mappStack[window.mappStack.length-1],e=window.mapps[n.callee];e&&e.contentWindow&&"function"==typeof e.contentWindow.onBackPressed&&e.contentWindow.onBackPressed()}else _jbridge.exitApp(0,JSON.stringify({backPressed:"true"}))},window.onLifeCycleEvent=function(n){if(window.mappStack.length>0&&void 0!==window.mapps){var e=window.mappStack[window.mappStack.length-1],t=window.mapps[e.callee];t&&t.contentWindow&&"function"==typeof t.contentWindow.onLifeCycleEvent&&t.contentWindow.onLifeCycleEvent(n)}else _jbridge.exitApp(0,JSON.stringify({backPressed:"true"}))},window.callUICallback=function(){try{var n=arguments[0]||"";if(void 0!==window.mapps&&"string"==typeof n){var e=n.split("_");if(e.length>1){var t=e[0],r=window.mapps[t];if(r&&r.contentWindow&&"function"==typeof r.contentWindow.callUICallback)return void r.contentWindow.callUICallback.apply(null,arguments)}}if(window.__BOOT_LOADER[n]){var o=[],i=1;for(var a in arguments)arguments[i]&&o.push(arguments[i]),i++;window.__BOOT_LOADER[n].apply(null,o)}}catch(n){console.error(n)}},window.onBundleUpdate=function(){var n=JSON.parse(_jbridge.getSessionAttribute("bundleParams","{}"));for(var e in window.mapps){var t=window.mapps[e];if(t&&t.contentWindow){for(var r in n)"service"!=r&&(t.contentWindow.__payload[r]=n[r]);"function"==typeof t.contentWindow.onBundleUpdate&&t.contentWindow.onBundleUpdate()}}};try{window.logVersion=JBridge.getResourceByName("log_version")}catch(n){console.log(n.message+". Defaulting to 1.0.0"),window.logVersion="1.0.0"}if(window.getOS=function(){if(window.__OS&&"string"==typeof window.__OS)return window.__OS;var n,e=navigator.userAgent;return null==e?"":(n=-1!=e.indexOf("Android")&&-1!=e.indexOf("Version")?"ANDROID":-1==e.indexOf("iPhone")&&-1==e.indexOf("iPad")&&-1==e.indexOf("Macintosh")||-1!=e.indexOf("Version")?"WEB":"IOS",window.__OS=n,n)},"IOS"==window.getOS())try{window.webkit.messageHandlers.IOS.postMessage(JSON.stringify({methodName:"runInUI",parameters:[{invokeOn:"UIDevice",methodName:"currentDevice",return:"CURRENT_DEVICE"},{return:"DEVICE_NAME",invokeOn:"this",methodName:"name",fromStore:"true",storeKey:"CURRENT_DEVICE"},{return:"deviceNameScript",invokeOn:"NSString",methodName:"stringWithFormat:",values:[{name:"window.DEVICE_NAME = '",type:"s"}]},{return:"deviceNameScript",invokeOn:"this",methodName:"stringByAppendingString:",fromStore:"true",storeKey:"deviceNameScript",values:[{name:"DEVICE_NAME",computed:"true"}]},{return:"deviceNameScript",invokeOn:"this",methodName:"stringByAppendingString:",fromStore:"true",storeKey:"deviceNameScript",values:[{name:"';",type:"s"}]},{return:"deviceNameScript",invokeOn:"this",methodName:"stringByAppendingString:",fromStore:"true",storeKey:"deviceNameScript",values:[{name:'window.dispatchEvent(new CustomEvent("deviceNameScriptCompleted"));',type:"s"}]},{return:"SELF",invokeOn:"self",methodName:"self"},{invokeOn:"this",methodName:"loadJS:",fromStore:"true",storeKey:"SELF",values:[{name:"deviceNameScript",computed:"true"}]}]}))}catch(n){}JBridge.runInJuspayBrowser("onEvent",JSON.stringify({event:"onJOSReady"}),"")},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var PS={};!function(n){"use strict";n["Control.Alt"]=n["Control.Alt"]||{};var e=n["Control.Alt"];e.Alt=function(n,e){this.Functor0=n,this.alt=e},e.alt=function(n){return n.alt}}(PS),function(n){"use strict";n["Control.Alternative"]=n["Control.Alternative"]||{};n["Control.Alternative"].Alternative=function(n,e){this.Applicative0=n,this.Plus1=e}}(PS),function(n){"use strict";n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var e=n["Control.Semigroupoid"],t=function(n){this.compose=n},r=new t((function(n){return function(e){return function(t){return n(e(t))}}})),o=function(n){return n.compose};e.compose=o,e.Semigroupoid=t,e.composeFlipped=function(n){return function(e){return function(t){return o(n)(t)(e)}}},e.semigroupoidFn=r}(PS),function(n){"use strict";n["Control.Category"]=n["Control.Category"]||{};var e=n["Control.Category"],t=n["Control.Semigroupoid"],r=function(n,e){this.Semigroupoid0=n,this.identity=e},o=new r((function(){return t.semigroupoidFn}),(function(n){return n}));e.Category=r,e.identity=function(n){return n.identity},e.categoryFn=o}(PS),function(n){"use strict";n["Data.Function"]=n["Data.Function"]||{};var e=n["Data.Function"];e.flip=function(n){return function(e){return function(t){return n(t)(e)}}},e.const=function(n){return function(e){return n}},e.apply=function(n){return function(e){return n(e)}}}(PS),function(n){"use strict";n.arrayMap=function(n){return function(e){for(var t=e.length,r=new Array(t),o=0;o<t;o++)r[o]=n(e[o]);return r}}}(PS["Data.Functor"]=PS["Data.Functor"]||{}),function(n){"use strict";n.unit={}}(PS["Data.Unit"]=PS["Data.Unit"]||{}),function(n){"use strict";n["Data.Unit"]=n["Data.Unit"]||{};var e=n["Data.Unit"],t=n["Data.Unit"];e.unit=t.unit}(PS),function(n){"use strict";n["Data.Functor"]=n["Data.Functor"]||{};var e=n["Data.Functor"],t=n["Data.Functor"],r=n["Control.Semigroupoid"],o=n["Data.Function"],i=n["Data.Unit"],a=function(n){this.map=n},u=function(n){return n.map},c=new a(r.compose(r.semigroupoidFn)),f=new a(t.arrayMap);e.Functor=a,e.map=u,e.void=function(n){return u(n)(o.const(i.unit))},e.voidLeft=function(n){return function(e){return function(t){return u(n)(o.const(t))(e)}}},e.functorFn=c,e.functorArray=f}(PS),function(n){"use strict";n["Control.Apply"]=n["Control.Apply"]||{};var e=n["Control.Apply"],t=n["Control.Category"],r=n["Data.Function"],o=n["Data.Functor"],i=function(n,e){this.Functor0=n,this.apply=e},a=new i((function(){return o.functorFn}),(function(n){return function(e){return function(t){return n(t)(e(t))}}})),u=function(n){return n.apply};e.Apply=i,e.apply=u,e.applySecond=function(n){return function(e){return function(i){return u(n)(o.map(n.Functor0())(r.const(t.identity(t.categoryFn)))(e))(i)}}},e.applyFn=a}(PS),function(n){"use strict";n["Control.Applicative"]=n["Control.Applicative"]||{};var e=n["Control.Applicative"],t=n["Control.Apply"],r=n["Data.Unit"],o=function(n,e){this.Apply0=n,this.pure=e},i=function(n){return n.pure},a=new o((function(){return t.applyFn}),(function(n){return function(e){return n}}));e.Applicative=o,e.pure=i,e.liftA1=function(n){return function(e){return function(r){return t.apply(n.Apply0())(i(n)(e))(r)}}},e.unless=function(n){return function(e){return function(t){if(!e)return t;if(e)return i(n)(r.unit);throw new Error("Failed pattern match at Control.Applicative (line 62, column 1 - line 62, column 65): "+[e.constructor.name,t.constructor.name])}}},e.when=function(n){return function(e){return function(t){if(e)return t;if(!e)return i(n)(r.unit);throw new Error("Failed pattern match at Control.Applicative (line 57, column 1 - line 57, column 63): "+[e.constructor.name,t.constructor.name])}}},e.applicativeFn=a}(PS),function(n){"use strict";n["Control.Bind"]=n["Control.Bind"]||{};var e=n["Control.Bind"],t=n["Data.Function"],r=function(n){this.discard=n},o=function(n){return n.bind},i=new r((function(n){return o(n)}));e.Bind=function(n,e){this.Apply0=n,this.bind=e},e.bind=o,e.bindFlipped=function(n){return t.flip(o(n))},e.Discard=r,e.discard=function(n){return n.discard},e.composeKleisli=function(n){return function(e){return function(t){return function(r){return o(n)(e(r))(t)}}}},e.ifM=function(n){return function(e){return function(t){return function(r){return o(n)(e)((function(n){return n?t:r}))}}}},e.discardUnit=i}(PS),function(n){"use strict";n["Control.Monad"]=n["Control.Monad"]||{};var e=n["Control.Monad"],t=n["Control.Applicative"],r=n["Control.Bind"];e.Monad=function(n,e){this.Applicative0=n,this.Bind1=e},e.ap=function(n){return function(e){return function(o){return r.bind(n.Bind1())(e)((function(e){return r.bind(n.Bind1())(o)((function(r){return t.pure(n.Applicative0())(e(r))}))}))}}}}(PS),function(n){"use strict";n["Control.Monad.Error.Class"]=n["Control.Monad.Error.Class"]||{};var e=n["Control.Monad.Error.Class"];e.catchError=function(n){return n.catchError},e.throwError=function(n){return n.throwError},e.MonadThrow=function(n,e){this.Monad0=n,this.throwError=e},e.MonadError=function(n,e){this.MonadThrow0=n,this.catchError=e}}(PS),function(n){"use strict";n["Control.Monad.Trans.Class"]=n["Control.Monad.Trans.Class"]||{};var e=n["Control.Monad.Trans.Class"];e.lift=function(n){return n.lift},e.MonadTrans=function(n){this.lift=n}}(PS),function(n){"use strict";n["Data.Bifunctor"]=n["Data.Bifunctor"]||{};var e=n["Data.Bifunctor"],t=n["Control.Category"],r=function(n){return n.bimap};e.bimap=r,e.Bifunctor=function(n){this.bimap=n},e.lmap=function(n){return function(e){return r(n)(e)(t.identity(t.categoryFn))}}}(PS),function(n){"use strict";n["Data.Either"]=n["Data.Either"]||{};var e=n["Data.Either"],t=n["Data.Bifunctor"],r=n["Data.Functor"],o=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),i=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=new r.Functor((function(n){return function(e){if(e instanceof o)return new o(e.value0);if(e instanceof i)return new i(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 38, column 8 - line 38, column 52): "+[e.constructor.name])}})),u=new t.Bifunctor((function(n){return function(e){return function(t){if(t instanceof o)return new o(n(t.value0));if(t instanceof i)return new i(e(t.value0));throw new Error("Failed pattern match at Data.Either (line 46, column 1 - line 46, column 45): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}));e.Left=o,e.Right=i,e.either=function(n){return function(e){return function(t){if(t instanceof o)return n(t.value0);if(t instanceof i)return e(t.value0);throw new Error("Failed pattern match at Data.Either (line 238, column 1 - line 238, column 64): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},e.functorEither=a,e.bifunctorEither=u}(PS),function(n){"use strict";n.concatString=function(n){return function(e){return n+e}},n.concatArray=function(n){return function(e){return 0===n.length?e:0===e.length?n:n.concat(e)}}}(PS["Data.Semigroup"]=PS["Data.Semigroup"]||{}),function(n){"use strict";n["Data.Semigroup"]=n["Data.Semigroup"]||{};var e=n["Data.Semigroup"],t=n["Data.Semigroup"],r=function(n){this.append=n},o=new r(t.concatString),i=new r(t.concatArray);e.Semigroup=r,e.append=function(n){return n.append},e.semigroupString=o,e.semigroupArray=i}(PS),function(n){"use strict";n["Control.Monad.Except.Trans"]=n["Control.Monad.Except.Trans"]||{};var e=n["Control.Monad.Except.Trans"],t=n["Control.Alt"],r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],a=n["Control.Monad"],u=n["Control.Monad.Error.Class"],c=n["Control.Monad.Trans.Class"],f=n["Data.Either"],s=n["Data.Functor"],l=n["Data.Semigroup"],d=function(n){return n},p=new c.MonadTrans((function(n){return function(e){return i.bind(n.Bind1())(e)((function(e){return r.pure(n.Applicative0())(new f.Right(e))}))}})),w=function(n){return function(e){return n(e)}},v=function(n){return new s.Functor((function(e){return w(s.map(n)(s.map(f.functorEither)(e)))}))},g=function(n){return new a.Monad((function(){return h(n)}),(function(){return m(n)}))},m=function(n){return new i.Bind((function(){return y(n)}),(function(e){return function(t){return i.bind(n.Bind1())(e)(f.either((function(e){return r.pure(n.Applicative0())(f.Left.create(e))}))((function(n){return t(n)})))}}))},y=function(n){return new o.Apply((function(){return v(n.Bind1().Apply0().Functor0())}),a.ap(g(n)))},h=function(n){return new r.Applicative((function(){return y(n)}),(function(e){return r.pure(n.Applicative0())(f.Right.create(e))}))};e.ExceptT=d,e.runExceptT=function(n){return n},e.mapExceptT=w,e.functorExceptT=v,e.applyExceptT=y,e.applicativeExceptT=h,e.bindExceptT=m,e.monadExceptT=g,e.altExceptT=function(n){return function(e){return new t.Alt((function(){return v(e.Bind1().Apply0().Functor0())}),(function(t){return function(o){return i.bind(e.Bind1())(t)((function(t){if(t instanceof f.Right)return r.pure(e.Applicative0())(new f.Right(t.value0));if(t instanceof f.Left)return i.bind(e.Bind1())(o)((function(o){if(o instanceof f.Right)return r.pure(e.Applicative0())(new f.Right(o.value0));if(o instanceof f.Left)return r.pure(e.Applicative0())(new f.Left(l.append(n)(t.value0)(o.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[o.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])}))}}))}},e.monadTransExceptT=p,e.monadThrowExceptT=function(n){return new u.MonadThrow((function(){return g(n)}),(function(e){return r.pure(n.Applicative0())(f.Left.create(e))}))}}(PS),function(n){"use strict";n["Data.Newtype"]=n["Data.Newtype"]||{};var e=n["Data.Newtype"];e.unwrap=function(n){return n.unwrap},e.wrap=function(n){return n.wrap},e.Newtype=function(n,e){this.unwrap=n,this.wrap=e}}(PS),function(n){"use strict";n["Data.Identity"]=n["Data.Identity"]||{};var e=n["Data.Identity"],t=n["Control.Applicative"],r=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],a=n["Data.Functor"],u=function(n){return n},c=new n["Data.Newtype"].Newtype((function(n){return n}),u),f=new a.Functor((function(n){return function(e){return n(e)}})),s=new r.Apply((function(){return f}),(function(n){return function(e){return n(e)}})),l=new o.Bind((function(){return s}),(function(n){return function(e){return e(n)}})),d=new t.Applicative((function(){return s}),u),p=new i.Monad((function(){return d}),(function(){return l}));e.Identity=u,e.newtypeIdentity=c,e.functorIdentity=f,e.applyIdentity=s,e.applicativeIdentity=d,e.bindIdentity=l,e.monadIdentity=p}(PS),function(n){"use strict";n["Control.Monad.Except"]=n["Control.Monad.Except"]||{};var e=n["Control.Monad.Except"],t=n["Control.Monad.Except.Trans"],r=n["Data.Identity"],o=n["Data.Newtype"];e.runExcept=function(n){return o.unwrap(r.newtypeIdentity)(t.runExceptT(n))},e.mapExcept=function(n){return t.mapExceptT((function(e){return r.Identity(n(o.unwrap(r.newtypeIdentity)(e)))}))}}(PS),function(n){"use strict";n["Control.Monad.Rec.Class"]=n["Control.Monad.Rec.Class"]||{};var e=n["Control.Monad.Rec.Class"],t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}();e.Loop=t,e.Done=r,e.MonadRec=function(n,e){this.Monad0=n,this.tailRecM=e},e.tailRecM=function(n){return n.tailRecM}}(PS),function(n){"use strict";n.foldrArray=function(n){return function(e){return function(t){for(var r=e,o=t.length-1;o>=0;o--)r=n(t[o])(r);return r}}},n.foldlArray=function(n){return function(e){return function(t){for(var r=e,o=t.length,i=0;i<o;i++)r=n(r)(t[i]);return r}}}}(PS["Data.Foldable"]=PS["Data.Foldable"]||{}),function(n){"use strict";n["Control.Plus"]=n["Control.Plus"]||{};var e=n["Control.Plus"];e.Plus=function(n,e){this.Alt0=n,this.empty=e},e.empty=function(n){return n.empty}}(PS),function(n){"use strict";n["Data.Monoid"]=n["Data.Monoid"]||{};var e=n["Data.Monoid"],t=n["Data.Semigroup"],r=function(n,e){this.Semigroup0=n,this.mempty=e},o=new r((function(){return t.semigroupString}),"");e.Monoid=r,e.mempty=function(n){return n.mempty},e.monoidString=o}(PS),function(n){"use strict";n["Data.Foldable"]=n["Data.Foldable"]||{};var e=n["Data.Foldable"],t=n["Data.Foldable"],r=n["Control.Alt"],o=n["Control.Applicative"],i=n["Control.Apply"],a=n["Control.Plus"],u=n["Data.Monoid"],c=n["Data.Semigroup"],f=n["Data.Unit"],s=function(n,e,t){this.foldMap=n,this.foldl=e,this.foldr=t},l=function(n){return n.foldr},d=function(n){return n.foldl},p=function(n){return function(e){return function(t){return l(n)((function(n){return function(r){return c.append(e.Semigroup0())(t(n))(r)}}))(u.mempty(e))}}},w=new s((function(n){return p(w)(n)}),t.foldlArray,t.foldrArray);e.Foldable=s,e.foldr=l,e.foldl=d,e.foldMap=function(n){return n.foldMap},e.foldMapDefaultR=p,e.traverse_=function(n){return function(e){return function(t){return l(e)((function(e){return i.applySecond(n.Apply0())(t(e))}))(o.pure(n)(f.unit))}}},e.oneOfMap=function(n){return function(e){return function(t){return l(n)((function(n){return r.alt(e.Alt0())(t(n))}))(a.empty(e))}}},e.intercalate=function(n){return function(e){return function(t){return function(r){return d(n)((function(n){return function(r){return n.init?{init:!1,acc:r}:{init:!1,acc:c.append(e.Semigroup0())(n.acc)(c.append(e.Semigroup0())(t)(r))}}}))({init:!0,acc:u.mempty(e)})(r).acc}}}},e.foldableArray=w}(PS),function(n){"use strict";n.showIntImpl=function(n){return n.toString()},n.showStringImpl=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,(function(t,r){switch(t){case'"':case"\\":return"\\"+t;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var o=r+1,i=o<e&&n[o]>="0"&&n[o]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+i}))+'"'}}(PS["Data.Show"]=PS["Data.Show"]||{}),function(n){"use strict";n["Data.Show"]=n["Data.Show"]||{};var e=n["Data.Show"],t=n["Data.Show"],r=function(n){this.show=n},o=new r(t.showStringImpl),i=new r(t.showIntImpl);e.Show=r,e.show=function(n){return n.show},e.showInt=i,e.showString=o}(PS),function(n){"use strict";n["Data.NonEmpty"]=n["Data.NonEmpty"]||{};var e=n["Data.NonEmpty"],t=n["Control.Plus"],r=n["Data.Functor"],o=n["Data.Show"],i=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}();e.NonEmpty=i,e.singleton=function(n){return function(e){return new i(e,t.empty(n))}},e.showNonEmpty=function(n){return function(e){return new o.Show((function(t){return"(NonEmpty "+o.show(n)(t.value0)+" "+o.show(e)(t.value1)+")"}))}},e.functorNonEmpty=function(n){return new r.Functor((function(e){return function(t){return new i(e(t.value0),r.map(n)(e)(t.value1))}}))}}(PS),function(n){"use strict";n["Data.List.Types"]=n["Data.List.Types"]||{};var e=n["Data.List.Types"],t=n["Control.Alt"],r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Plus"],a=n["Data.Foldable"],u=n["Data.Function"],c=n["Data.Functor"],f=n["Data.Monoid"],s=n["Data.NonEmpty"],l=n["Data.Semigroup"],d=n["Data.Show"],p=function(){function n(){}return n.value=new n,n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),v=function(n){return n},g=function(n){return new w(n.value0,n.value1)},m=new c.Functor((function(n){var e;return e=p.value,function(t){var r,o=e,i=!1;function a(e,r){return r instanceof w&&r.value1 instanceof w&&r.value1.value1 instanceof w?(o=new w(r,e),void(t=r.value1.value1.value1)):(i=!0,(u=e,function(e){for(var t,r,o,i=u,a=!1;!a;)o=e,t=(r=i)instanceof w&&r.value0 instanceof w&&r.value0.value1 instanceof w&&r.value0.value1.value1 instanceof w?(i=r.value1,void(e=new w(n(r.value0.value0),new w(n(r.value0.value1.value0),new w(n(r.value0.value1.value1.value0),o))))):(a=!0,o);return t})((a=r)instanceof w&&a.value1 instanceof w&&a.value1.value1 instanceof p?new w(n(a.value0),new w(n(a.value1.value0),p.value)):a instanceof w&&a.value1 instanceof p?new w(n(a.value0),p.value):p.value));var a,u}for(;!i;)r=a(o,t);return r}})),y=s.functorNonEmpty(m),h=new a.Foldable((function(n){return function(e){return a.foldl(h)((function(t){return function(r){return l.append(n.Semigroup0())(t)(e(r))}}))(f.mempty(n))}}),(function(n){return function(e){return function(t){var r,o=e,i=!1;function a(e,r){if(r instanceof p)return i=!0,e;if(r instanceof w)return o=n(e)(r.value0),void(t=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 109, column 12 - line 111, column 30): "+[r.constructor.name])}for(;!i;)r=a(o,t);return r}}}),(function(n){return function(e){var t=a.foldl(h)(u.flip(w.create))(p.value);return function(r){return a.foldl(h)(u.flip(n))(e)(t(r))}}})),A=new l.Semigroup((function(n){return function(e){return a.foldr(h)(w.create)(e)(n)}})),S=new l.Semigroup((function(n){return function(e){return new s.NonEmpty(n.value0,l.append(A)(n.value1)(g(e)))}})),E=function(n){return new d.Show((function(e){return e instanceof p?"Nil":"("+a.intercalate(h)(f.monoidString)(" : ")(c.map(m)(d.show(n))(e))+" : Nil)"}))},_=new o.Apply((function(){return m}),(function(n){return function(e){if(n instanceof p)return p.value;if(n instanceof w)return l.append(A)(c.map(m)(n.value0)(e))(o.apply(_)(n.value1)(e));throw new Error("Failed pattern match at Data.List.Types (line 155, column 1 - line 155, column 33): "+[n.constructor.name,e.constructor.name])}})),C=new o.Apply((function(){return y}),(function(n){return function(e){return new s.NonEmpty(n.value0(e.value0),l.append(A)(o.apply(_)(n.value1)(new w(e.value0,p.value)))(o.apply(_)(new w(n.value0,n.value1))(e.value1)))}})),b=new t.Alt((function(){return m}),l.append(A)),T=new i.Plus((function(){return b}),p.value),D=new r.Applicative((function(){return C}),(function(n){return s.singleton(T)(n)}));e.Nil=p,e.Cons=w,e.NonEmptyList=v,e.toList=g,e.showList=E,e.semigroupList=A,e.functorList=m,e.foldableList=h,e.applyList=_,e.altList=b,e.plusList=T,e.showNonEmptyList=function(n){return new d.Show((function(e){return"(NonEmptyList "+d.show(s.showNonEmpty(n)(E(n)))(e)+")"}))},e.functorNonEmptyList=y,e.applyNonEmptyList=C,e.applicativeNonEmptyList=D,e.semigroupNonEmptyList=S}(PS),function(n){"use strict";n["Data.List"]=n["Data.List"]||{};var e,t=n["Data.List"],r=n["Data.Foldable"],o=n["Data.List.Types"],i=(e=o.Nil.value,function(n){var t,r=e,i=!1;function a(e,t){if(t instanceof o.Nil)return i=!0,e;if(t instanceof o.Cons)return r=new o.Cons(t.value0,e),void(n=t.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[e.constructor.name,t.constructor.name])}for(;!i;)t=a(r,n);return t});t.fromFoldable=function(n){return r.foldr(n)(o.Cons.create)(o.Nil.value)},t.singleton=function(n){return new o.Cons(n,o.Nil.value)},t.null=function(n){return n instanceof o.Nil},t.reverse=i}(PS),function(n){"use strict";n["Data.Maybe"]=n["Data.Maybe"]||{};var e=n["Data.Maybe"],t=n["Control.Category"],r=n["Data.Function"],o=n["Data.Functor"],i=n["Data.Unit"],a=function(){function n(){}return n.value=new n,n}(),u=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),c=function(n){return function(e){return function(t){if(t instanceof a)return n;if(t instanceof u)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 217, column 1 - line 217, column 51): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},f=c(!1)(r.const(!0)),s=new o.Functor((function(n){return function(e){return e instanceof u?new u(n(e.value0)):a.value}}));e.Nothing=a,e.Just=u,e.maybe=c,e["maybe'"]=function(n){return function(e){return function(t){if(t instanceof a)return n(i.unit);if(t instanceof u)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 230, column 1 - line 230, column 62): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},e.fromMaybe=function(n){return c(n)(t.identity(t.categoryFn))},e.isJust=f,e.fromJust=function(n){return function(n){if(n instanceof u)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 268, column 1 - line 268, column 46): "+[n.constructor.name])}},e.functorMaybe=s}(PS),function(n){"use strict";n["Data.Tuple"]=n["Data.Tuple"]||{};var e=n["Data.Tuple"],t=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}();e.Tuple=t,e.fst=function(n){return n.value0},e.snd=function(n){return n.value1}}(PS),function(n){"use strict";n["Data.CatQueue"]=n["Data.CatQueue"]||{};var e=n["Data.CatQueue"],t=n["Data.List"],r=n["Data.List.Types"],o=n["Data.Maybe"],i=n["Data.Tuple"],a=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),u=new a(r.Nil.value,r.Nil.value);e.CatQueue=a,e.empty=u,e.null=function(n){return n.value0 instanceof r.Nil&&n.value1 instanceof r.Nil},e.snoc=function(n){return function(e){return new a(n.value0,new r.Cons(e,n.value1))}},e.uncons=function(n){var e,u=!1;function c(e){if(e.value0 instanceof r.Nil&&e.value1 instanceof r.Nil)return u=!0,o.Nothing.value;if(!(e.value0 instanceof r.Nil)){if(e.value0 instanceof r.Cons)return u=!0,new o.Just(new i.Tuple(e.value0.value0,new a(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 83, column 1 - line 83, column 63): "+[e.constructor.name])}n=new a(t.reverse(e.value1),r.Nil.value)}for(;!u;)e=c(n);return e}}(PS),function(n){"use strict";n["Data.CatList"]=n["Data.CatList"]||{};var e=n["Data.CatList"],t=n["Data.CatQueue"],r=n["Data.List.Types"],o=n["Data.Maybe"],i=n["Data.Semigroup"],a=n["Data.Tuple"],u=function(){function n(){}return n.value=new n,n}(),c=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),f=function(n){return function(e){if(n instanceof u)return e;if(e instanceof u)return n;if(n instanceof c)return new c(n.value0,t.snoc(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 109, column 1 - line 109, column 54): "+[n.constructor.name,e.constructor.name])}},s=function(n){return function(e){return function(i){var a;return(a=i,function(i){var u,c=a,f=!1;function s(a,u){var s,l=t.uncons(a);if(l instanceof o.Nothing)return f=!0,(s=function(n){return function(e){return e(n)}},function(n){return function(e){var t,o=s,i=n,a=!1;function u(n,t,u){if(u instanceof r.Nil)return a=!0,t;if(u instanceof r.Cons)return o=n,i=n(t)(u.value0),void(e=u.value1);throw new Error("Failed pattern match at Data.CatList (line 125, column 3 - line 125, column 59): "+[n.constructor.name,t.constructor.name,u.constructor.name])}for(;!a;)t=u(o,i,e);return t}})(e)(u);if(l instanceof o.Just)return c=l.value0.value1,void(i=new r.Cons(n(l.value0.value0),u));throw new Error("Failed pattern match at Data.CatList (line 121, column 14 - line 123, column 67): "+[l.constructor.name])}for(;!f;)u=s(c,i);return u})(r.Nil.value)}}},l=u.value,d=f,p=new i.Semigroup(d);e.CatNil=u,e.CatCons=c,e.empty=l,e.append=d,e.snoc=function(n){return function(e){return d(n)(new c(e,t.empty))}},e.uncons=function(n){if(n instanceof u)return o.Nothing.value;if(n instanceof c)return new o.Just(new a.Tuple(n.value0,t.null(n.value1)?u.value:s(f)(u.value)(n.value1)));throw new Error("Failed pattern match at Data.CatList (line 100, column 1 - line 100, column 61): "+[n.constructor.name])},e.semigroupCatList=p}(PS),function(n){"use strict";n["Control.Monad.Free"]=n["Control.Monad.Free"]||{};var e=n["Control.Monad.Free"],t=n["Control.Applicative"],r=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],a=n["Control.Monad.Rec.Class"],u=n["Data.CatList"],c=n["Data.Functor"],f=n["Data.Maybe"],s=n["Data.Semigroup"],l=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),w=function(n){return new l(n,u.empty)},v=new i.Monad((function(){return h}),(function(){return m})),g=new c.Functor((function(n){return function(e){return o.bindFlipped(m)((function(e){return t.pure(h)(n(e))}))(e)}})),m=new o.Bind((function(){return y}),(function(n){return function(e){return new l(n.value0,u.snoc(n.value1)(e))}})),y=new r.Apply((function(){return g}),i.ap(v)),h=new t.Applicative((function(){return y}),(function(n){return w(d.create(n))}));e.liftF=function(n){return w(new p(n,(function(n){return t.pure(h)(n)})))},e.foldFree=function(n){return function(e){return a.tailRecM(n)((function(r){var o=function(n){var e,t=!1;function r(e){var r=function(n){return function(e){return new l(n.value0,s.append(u.semigroupCatList)(n.value1)(e))}};if(e.value0 instanceof d){var o=u.uncons(e.value1);if(o instanceof f.Nothing)return t=!0,new d(e.value0.value0);if(o instanceof f.Just)return void(n=r((0,o.value0.value0)(e.value0.value0))(o.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[o.constructor.name])}if(e.value0 instanceof p)return t=!0,new p(e.value0.value0,(function(n){return r(e.value0.value1(n))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!t;)e=r(n);return e}(r);if(o instanceof d)return c.map(n.Monad0().Bind1().Apply0().Functor0())(a.Done.create)(t.pure(n.Monad0().Applicative0())(o.value0));if(o instanceof p)return c.map(n.Monad0().Bind1().Apply0().Functor0())((function(n){return a.Loop.create(o.value1(n))}))(e(o.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[o.constructor.name])}))}},e.freeFunctor=g,e.freeBind=m,e.freeApplicative=h,e.freeApply=y,e.freeMonad=v}(PS),function(n){"use strict";n.map_=function(n){return function(e){return function(){return n(e())}}},n.pure_=function(n){return function(){return n}},n.bind_=function(n){return function(e){return function(){return e(n())()}}},n.foreach=function(n){return function(e){return function(){for(var t=0,r=n.length;t<r;t++)e(n[t])()}}}}(PS["Control.Monad.ST.Internal"]=PS["Control.Monad.ST.Internal"]||{}),function(n){"use strict";n["Control.Monad.ST.Internal"]=n["Control.Monad.ST.Internal"]||{};var e=n["Control.Monad.ST.Internal"],t=n["Control.Monad.ST.Internal"],r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],a=n["Control.Monad"],u=new n["Data.Functor"].Functor(t.map_),c=new a.Monad((function(){return l}),(function(){return f})),f=new i.Bind((function(){return s}),t.bind_),s=new o.Apply((function(){return u}),a.ap(c)),l=new r.Applicative((function(){return s}),t.pure_);e.functorST=u,e.applyST=s,e.applicativeST=l,e.bindST=f,e.monadST=c,e.foreach=t.foreach}(PS),function(n){"use strict";n["Control.Monad.State.Class"]=n["Control.Monad.State.Class"]||{};var e=n["Control.Monad.State.Class"],t=n["Data.Tuple"],r=n["Data.Unit"],o=function(n){return n.state};e.state=o,e.MonadState=function(n,e){this.Monad0=n,this.state=e},e.get=function(n){return o(n)((function(n){return new t.Tuple(n,n)}))},e.put=function(n){return function(e){return o(n)((function(n){return new t.Tuple(r.unit,e)}))}}}(PS),function(n){"use strict";n["Control.Monad.State.Trans"]=n["Control.Monad.State.Trans"]||{};var e=n["Control.Monad.State.Trans"],t=n["Control.Applicative"],r=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],a=n["Control.Monad.Error.Class"],u=n["Control.Monad.Rec.Class"],c=n["Control.Monad.State.Class"],f=n["Control.Monad.Trans.Class"],s=n["Data.Functor"],l=n["Data.Tuple"],d=function(n){return n},p=new f.MonadTrans((function(n){return function(e){return function(r){return o.bind(n.Bind1())(e)((function(e){return t.pure(n.Applicative0())(new l.Tuple(e,r))}))}}})),w=function(n){return new s.Functor((function(e){return function(t){return function(r){return s.map(n)((function(n){return new l.Tuple(e(n.value0),n.value1)}))(t(r))}}}))},v=function(n){return new i.Monad((function(){return y(n)}),(function(){return g(n)}))},g=function(n){return new o.Bind((function(){return m(n)}),(function(e){return function(t){return function(r){return o.bind(n.Bind1())(e(r))((function(n){return t(n.value0)(n.value1)}))}}}))},m=function(n){return new r.Apply((function(){return w(n.Bind1().Apply0().Functor0())}),i.ap(v(n)))},y=function(n){return new t.Applicative((function(){return m(n)}),(function(e){return function(r){return t.pure(n.Applicative0())(new l.Tuple(e,r))}}))};e.StateT=d,e.runStateT=function(n){return n},e.evalStateT=function(n){return function(e){return function(t){return s.map(n)(l.fst)(e(t))}}},e.functorStateT=w,e.applyStateT=m,e.applicativeStateT=y,e.bindStateT=g,e.monadStateT=v,e.monadRecStateT=function(n){return new u.MonadRec((function(){return v(n.Monad0())}),(function(e){return function(r){var i=function(r){return o.bind(n.Monad0().Bind1())(e(r.value0)(r.value1))((function(e){return t.pure(n.Monad0().Applicative0())(function(){if(e.value0 instanceof u.Loop)return new u.Loop(new l.Tuple(e.value0.value0,e.value1));if(e.value0 instanceof u.Done)return new u.Done(new l.Tuple(e.value0.value0,e.value1));throw new Error("Failed pattern match at Control.Monad.State.Trans (line 87, column 16 - line 89, column 40): "+[e.value0.constructor.name])}())}))};return function(e){return u.tailRecM(n)(i)(new l.Tuple(r,e))}}}))},e.monadTransStateT=p,e.monadThrowStateT=function(n){return new a.MonadThrow((function(){return v(n.Monad0())}),(function(e){return f.lift(p)(n.Monad0())(a.throwError(n)(e))}))},e.monadStateStateT=function(n){return new c.MonadState((function(){return v(n)}),(function(e){return function(r){return t.pure(n.Applicative0())(e(r))}}))}}(PS),function(n){"use strict";n["Control.Parallel.Class"]=n["Control.Parallel.Class"]||{};var e=n["Control.Parallel.Class"];e.parallel=function(n){return n.parallel},e.sequential=function(n){return n.sequential},e.Parallel=function(n,e,t,r){this.Applicative1=n,this.Monad0=e,this.parallel=t,this.sequential=r}}(PS),function(n){"use strict";n["Control.Parallel"]=n["Control.Parallel"]||{};var e=n["Control.Parallel"],t=n["Control.Parallel.Class"],r=n["Data.Foldable"];e.parOneOf=function(n){return function(e){return function(o){return function(i){return function(i){return t.sequential(n)(r.oneOfMap(o)(e.Plus1())(t.parallel(n))(i))}}}}}}(PS),function(n){n["getValueFromWindow'"]=function(n){return function(e){return function(){return"object"==("undefined"==typeof window?"undefined":_typeof(window))&&void 0!==window[n]?window[n]:e}}},n.toJSON=function(n){return function(){try{return JSON.parse(n)}catch(n){return console.error(n),{}}}}}(PS["Engineering.Helpers.Commons"]=PS["Engineering.Helpers.Commons"]||{}),function(n){"use strict";var e=function(){var n={},e="Sequential",t="Cons";function r(n,e,t,r){this.tag=n,this._1=e,this._2=t,this._3=r}function o(n){var e=function(e,t,o){return new r(n,e,t,o)};return e.tag=n,e}function i(n){return new r("Pure",void 0)}function a(n){try{n()}catch(n){setTimeout((function(){throw n}),0)}}function u(n,e,t){try{return e(t())}catch(e){return n(e)}}function c(n,e,t){try{return e(t)()}catch(e){return t(n(e))(),i}}var f=function(){var n=0,e=0,t=new Array(1024),r=!1;function o(){var o;for(r=!0;0!==n;)n--,o=t[e],t[e]=void 0,e=(e+1)%1024,o();r=!1}return{isDraining:function(){return r},enqueue:function(i){var a;1024===n&&(a=r,o(),r=a),t[(e+n)%1024]=i,n++,r||o()}}}();function s(n,o,i){var l=0,p=0,w=i,v=null,g=null,m=null,y=null,h=null,A=0,S=0,E=null,_=!0;function C(i){for(var S,b,T;;)switch(S=null,b=null,T=null,p){case 2:p=1,w=m(w),null===y?m=null:(m=y._1,y=y._2);break;case 3:n.isLeft(w)?(p=5,v=w,w=null):null===m?p=5:(p=2,w=n.fromRight(w));break;case 1:switch(w.tag){case"Bind":m&&(y=new r(t,m,y)),m=w._2,p=1,w=w._1;break;case"Pure":null===m?(p=5,w=n.right(w._1)):(p=2,w=w._1);break;case"Sync":p=3,w=u(n.left,n.right,w._1);break;case"Async":return p=4,void(w=c(n.left,w._1,(function(n){return function(){l===i&&(l++,f.enqueue((function(){l===i+1&&(p=3,w=n,C(l))})))}})));case"Throw":p=5,v=n.left(w._1),w=null;break;case"Catch":h=new r(t,w,null===m?h:new r(t,new r("Resume",m,y),h,g),g),m=null,y=null,p=1,w=w._1;break;case"Bracket":A++,h=new r(t,w,null===m?h:new r(t,new r("Resume",m,y),h,g),g),m=null,y=null,p=1,w=w._1;break;case"Fork":p=3,S=s(n,o,w._2),o&&o.register(S),w._1&&S.run(),w=n.right(S);break;case e:p=1,w=d(n,o,w._1)}break;case 5:if(m=null,y=null,null===h)p=6,w=g||v||w;else switch(S=h._3,T=h._1,h=h._2,T.tag){case"Catch":g&&g!==S&&0===A?p=5:v&&(p=1,w=T._2(n.fromLeft(v)),v=null);break;case"Resume":g&&g!==S&&0===A||v?p=5:(m=T._1,y=T._2,p=2,w=n.fromRight(w));break;case"Bracket":A--,null===v&&(b=n.fromRight(w),h=new r(t,new r("Release",T._2,b),h,S),(g===S||A>0)&&(p=1,w=T._3(b)));break;case"Release":h=new r(t,new r("Finalized",w,v),h,g),p=1,w=g&&g!==S&&0===A?T._1.killed(n.fromLeft(g))(T._2):v?T._1.failed(n.fromLeft(v))(T._2):T._1.completed(n.fromRight(w))(T._2),v=null,A++;break;case"Finalizer":A++,h=new r(t,new r("Finalized",w,v),h,g),p=1,w=T._1;break;case"Finalized":A--,p=5,w=T._1,v=T._2}break;case 6:for(var D in E)E.hasOwnProperty(D)&&(_=_&&E[D].rethrow,a(E[D].handler(w)));return E=null,void(g&&v?setTimeout((function(){throw n.fromLeft(v)}),0):n.isLeft(w)&&_&&setTimeout((function(){if(_)throw n.fromLeft(w)}),0));case 0:p=1;break;case 4:return}}function b(n){return function(){if(6===p)return _=_&&n.rethrow,n.handler(w)(),function(){};var e=S++;return(E=E||{})[e]=n,function(){null!==E&&delete E[e]}}}return{kill:function(e,o){return function(){if(6===p)return o(n.right(void 0))(),function(){};var i=b({rethrow:!1,handler:function(){return o(n.right(void 0))}})();switch(p){case 0:g=n.left(e),p=6,w=g,C(l);break;case 4:null===g&&(g=n.left(e)),0===A&&(4===p&&(h=new r(t,new r("Finalizer",w(e)),h,g)),p=5,w=null,v=null,C(++l));break;default:null===g&&(g=n.left(e)),0===A&&(p=5,w=null,v=null)}return i}},join:function(n){return function(){var e=b({rethrow:!1,handler:n})();return 0===p&&C(l),e}},onComplete:b,isSuspended:function(){return 0===p},run:function(){0===p&&(f.isDraining()?C(l):f.enqueue((function(){C(l)})))}}}function l(e,o,a,u){var c=0,f={},l=0,d={},p=new Error("[ParAff] Early exit"),w=null,v=n;function g(o,i,a){var u,c,s=i,l=null,d=null,p=0,w={};n:for(;;)switch(u=null,s.tag){case"Forked":if(s._3===n&&(u=f[s._1],w[p++]=u.kill(o,(function(n){return function(){0===--p&&a(n)()}}))),null===l)break n;s=l._2,null===d?l=null:(l=d._1,d=d._2);break;case"Map":s=s._2;break;case"Apply":case"Alt":l&&(d=new r(t,l,d)),l=s,s=s._1}if(0===p)a(e.right(void 0))();else for(c=0,u=p;c<u;c++)w[c]=w[c]();return w}function m(t){return function(r){return function(){delete f[t._1],t._3=r,function t(r,o,i){var a,c,f,s,v,m;for(e.isLeft(r)?(a=r,c=null):(c=r,a=null);;){if(f=null,s=null,v=null,m=null,null!==w)return;if(null===o)return void u(a||c)();if(o._3!==n)return;switch(o.tag){case"Map":null===a?(o._3=e.right(o._1(e.fromRight(c))),c=o._3):o._3=a;break;case"Apply":if(f=o._1._3,s=o._2._3,a){if(o._3=a,v=!0,m=l++,d[m]=g(p,a===f?o._2:o._1,(function(){return function(){delete d[m],v?v=!1:null===i?t(a,null,null):t(a,i._1,i._2)}})),v)return void(v=!1)}else{if(f===n||s===n)return;c=e.right(e.fromRight(f)(e.fromRight(s))),o._3=c}break;case"Alt":if(f=o._1._3,s=o._2._3,f===n&&e.isLeft(s)||s===n&&e.isLeft(f))return;if(f!==n&&e.isLeft(f)&&s!==n&&e.isLeft(s))a=c===f?s:f,c=null,o._3=a;else if(o._3=c,v=!0,m=l++,d[m]=g(p,c===f?o._2:o._1,(function(){return function(){delete d[m],v?v=!1:null===i?t(c,null,null):t(c,i._1,i._2)}})),v)return void(v=!1)}null===i?o=null:(o=i._1,i=i._2)}}(r,t._2._1,t._2._2)}}}return function(){var i,u,l=1,d=a,p=null,w=null;n:for(;;)switch(i=null,u=null,l){case 1:switch(d.tag){case"Map":p&&(w=new r(t,p,w)),p=new r("Map",d._1,n,n),d=d._2;break;case"Apply":p&&(w=new r(t,p,w)),p=new r("Apply",n,d._2,n),d=d._1;break;case"Alt":p&&(w=new r(t,p,w)),p=new r("Alt",n,d._2,n),d=d._1;break;default:l=5,i=d,d=new r("Forked",u=c++,new r(t,p,w),n),(i=s(e,o,i)).onComplete({rethrow:!1,handler:m(d)})(),f[u]=i,o&&o.register(i)}break;case 5:if(null===p)break n;p._1===n?(p._1=d,l=1,d=p._2,p._2=n):(p._2=d,d=p,null===w?p=null:(p=w._1,w=w._2))}for(v=d,u=0;u<c;u++)f[u].run()}(),function(n){return new r("Async",(function(t){return function(){return function(n,t){var o;for(var a in w=e.left(n),d)if(d.hasOwnProperty(a))for(a in o=d[a])o.hasOwnProperty(a)&&o[a]();d=null;var u=g(n,v,t);return function(n){return new r("Async",(function(n){return function(){for(var n in u)u.hasOwnProperty(n)&&u[n]();return i}}))}}(n,t)}}))}}function d(n,e,t){return new r("Async",(function(r){return function(){return l(n,e,t,r)}}))}return r.EMPTY=n,r.Pure=o("Pure"),r.Throw=o("Throw"),r.Catch=o("Catch"),r.Sync=o("Sync"),r.Async=o("Async"),r.Bind=o("Bind"),r.Bracket=o("Bracket"),r.Fork=o("Fork"),r.Seq=o(e),r.ParMap=o("Map"),r.ParApply=o("Apply"),r.ParAlt=o("Alt"),r.Fiber=s,r.Supervisor=function(n){var e={},t=0,o=0;return{register:function(n){var r=t++;n.onComplete({rethrow:!0,handler:function(n){return function(){o--,delete e[r]}}}),e[r]=n,o++},isEmpty:function(){return 0===o},killAll:function(i,a){return function(){if(0===o)return a();var u=0,c={};function f(t){c[t]=e[t].kill(i,(function(e){return function(){delete c[t],u--,n.isLeft(e)&&n.fromLeft(e)&&setTimeout((function(){throw n.fromLeft(e)}),0),0===u&&a()}}))()}for(var s in e)e.hasOwnProperty(s)&&(u++,f(s));return e={},t=0,o=0,function(n){return new r("Sync",(function(){for(var n in c)c.hasOwnProperty(n)&&c[n]()}))}}}}},r.Scheduler=f,r.nonCanceler=i,r}();n._pure=e.Pure,n._throwError=e.Throw,n._catchError=function(n){return function(t){return e.Catch(n,t)}},n._map=function(n){return function(t){return t.tag===e.Pure.tag?e.Pure(n(t._1)):e.Bind(t,(function(t){return e.Pure(n(t))}))}},n._bind=function(n){return function(t){return e.Bind(n,t)}},n._fork=function(n){return function(t){return e.Fork(n,t)}},n._liftEffect=e.Sync,n._parAffMap=function(n){return function(t){return e.ParMap(n,t)}},n._parAffApply=function(n){return function(t){return e.ParApply(n,t)}},n._parAffAlt=function(n){return function(t){return e.ParAlt(n,t)}},n.makeAff=e.Async,n._makeFiber=function(n,t){return function(){return e.Fiber(n,null,t)}},n._delay=function(n,t){return e.Async((function(r){return function(){var o,i,a=(o=t,i=r(n()),0===o&&void 0!==setImmediate?setImmediate(i):setTimeout(i,o));return function(){return e.Sync((function(){return n(function(n,e){return 0===n&&void 0!==clearImmediate?clearImmediate(e):clearTimeout(e)}(t,a))}))}}}))},n._sequential=e.Seq}(PS["Effect.Aff"]=PS["Effect.Aff"]||{}),function(n){"use strict";n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(e){return function(){return e(n())()}}}}(PS.Effect=PS.Effect||{}),function(n){"use strict";n.Effect=n.Effect||{};var e=n.Effect,t=n.Effect,r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],a=n["Control.Monad"],u=n["Data.Functor"],c=new a.Monad((function(){return l}),(function(){return f})),f=new i.Bind((function(){return s}),t.bindE),s=new o.Apply((function(){return d}),a.ap(c)),l=new r.Applicative((function(){return s}),t.pureE),d=new u.Functor(r.liftA1(l));e.functorEffect=d,e.applyEffect=s,e.applicativeEffect=l,e.bindEffect=f,e.monadEffect=c}(PS),function(n){"use strict";n["Effect.Class"]=n["Effect.Class"]||{};var e=n["Effect.Class"];e.liftEffect=function(n){return n.liftEffect},e.MonadEffect=function(n,e){this.Monad0=n,this.liftEffect=e}}(PS),function(n){"use strict";n.error=function(n){return new Error(n)},n.message=function(n){return n.message},n.catchException=function(n){return function(e){return function(){try{return e()}catch(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)?n(e)():n(new Error(e.toString()))()}}}}}(PS["Effect.Exception"]=PS["Effect.Exception"]||{}),function(n){"use strict";n["Effect.Exception"]=n["Effect.Exception"]||{};var e=n["Effect.Exception"],t=n["Effect.Exception"],r=n["Control.Applicative"],o=n["Data.Either"],i=n["Data.Functor"],a=n.Effect;e.try=function(n){return t.catchException((function(n){return r.pure(a.applicativeEffect)(o.Left.create(n))}))(i.map(a.functorEffect)(o.Right.create)(n))},e.error=t.error,e.message=t.message}(PS),function(n){"use strict";n.unsafePartial=function(n){return n()}}(PS["Partial.Unsafe"]=PS["Partial.Unsafe"]||{}),function(n){"use strict";n.crashWith=function(){return function(n){throw new Error(n)}}}(PS.Partial=PS.Partial||{}),function(n){"use strict";n.Partial=n.Partial||{};var e=n.Partial,t=n.Partial;e.crashWith=t.crashWith}(PS),function(n){"use strict";n["Partial.Unsafe"]=n["Partial.Unsafe"]||{};var e=n["Partial.Unsafe"],t=n["Partial.Unsafe"],r=n.Partial;e.unsafeCrashWith=function(n){return t.unsafePartial((function(e){return r.crashWith(e)(n)}))}}(PS),function(n){"use strict";n.unsafeCoerce=function(n){return n}}(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{}),function(n){"use strict";n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var e=n["Unsafe.Coerce"],t=n["Unsafe.Coerce"];e.unsafeCoerce=t.unsafeCoerce}(PS),function(n){"use strict";n["Effect.Aff"]=n["Effect.Aff"]||{};var e=n["Effect.Aff"],t=n["Effect.Aff"],r=n["Control.Alt"],o=n["Control.Alternative"],i=n["Control.Applicative"],a=n["Control.Apply"],u=n["Control.Bind"],c=n["Control.Monad"],f=n["Control.Monad.Error.Class"],s=n["Control.Monad.Rec.Class"],l=n["Control.Parallel.Class"],d=n["Control.Plus"],p=n["Data.Either"],w=n["Data.Function"],v=n["Data.Functor"],g=n["Data.Unit"],m=n.Effect,y=n["Effect.Class"],h=n["Effect.Exception"],A=n["Partial.Unsafe"],S=n["Unsafe.Coerce"],E=function(n){return n},_=new v.Functor(t._parAffMap),C=new v.Functor(t._map),b=t._fork(!0),T={isLeft:function(n){if(n instanceof p.Left)return!0;if(n instanceof p.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 390, column 12 - line 392, column 20): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof p.Left)return n.value0;if(n instanceof p.Right)return A.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 395, column 20 - line 399, column 3): "+[n.constructor.name])},fromRight:function(n){if(n instanceof p.Right)return n.value0;if(n instanceof p.Left)return A.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 400, column 21 - line 402, column 31): "+[n.constructor.name])},left:p.Left.create,right:p.Right.create},D=function(n){return function(){var e=function(n){return t._makeFiber(T,n)}(n)();return e.run(),e}},P=new a.Apply((function(){return _}),t._parAffApply),F=new c.Monad((function(){return O}),(function(){return I})),I=new u.Bind((function(){return k}),t._bind),k=new a.Apply((function(){return C}),c.ap(F)),O=new i.Applicative((function(){return k}),t._pure),x=new y.MonadEffect((function(){return F}),t._liftEffect),M=function(n){return w.const(y.liftEffect(x)(n))},B=new f.MonadThrow((function(){return F}),t._throwError),L=new f.MonadError((function(){return B}),t._catchError),R=new l.Parallel((function(){return N}),(function(){return F}),S.unsafeCoerce,t._sequential),N=new i.Applicative((function(){return P}),(function(n){return l.parallel(R)(i.pure(O)(n))})),j=new s.MonadRec((function(){return F}),(function(n){return function e(t){return u.bind(I)(n(t))((function(n){if(n instanceof s.Done)return i.pure(O)(n.value0);if(n instanceof s.Loop)return e(n.value0);throw new Error("Failed pattern match at Effect.Aff (line 100, column 7 - line 102, column 22): "+[n.constructor.name])}))}})),J=w.const(i.pure(O)(g.unit)),U=new r.Alt((function(){return _}),t._parAffAlt),V=new r.Alt((function(){return C}),(function(n){return function(e){return f.catchError(L)(n)(w.const(e))}})),W=new d.Plus((function(){return V}),f.throwError(B)(h.error("Always fails"))),H=new d.Plus((function(){return U}),l.parallel(R)(d.empty(W))),q=new o.Alternative((function(){return N}),(function(){return H}));e.Canceler=E,e.launchAff=D,e.launchAff_=function(n){return v.void(m.functorEffect)(D(n))},e.forkAff=b,e.delay=function(n){return t._delay(p.Right.create,n)},e.joinFiber=function(n){return t.makeAff((function(e){return v.map(m.functorEffect)(M)(n.join(e))}))},e.nonCanceler=J,e.effectCanceler=M,e.functorAff=C,e.applyAff=k,e.applicativeAff=O,e.bindAff=I,e.monadAff=F,e.altAff=V,e.plusAff=W,e.monadRecAff=j,e.monadThrowAff=B,e.monadErrorAff=L,e.monadEffectAff=x,e.functorParAff=_,e.applyParAff=P,e.applicativeParAff=N,e.altParAff=U,e.plusParAff=H,e.alternativeParAff=q,e.parallelAff=R,e.makeAff=t.makeAff}(PS),function(n){"use strict";var e=function(){function n(){this.head=null,this.last=null,this.size=0}function e(n,e){this.queue=n,this.value=e,this.next=null,this.prev=null}function t(e){this.draining=!1,this.error=null,this.value=e,this.takes=new n,this.reads=new n,this.puts=new n}var r={};function o(n){try{n()}catch(n){setTimeout((function(){throw n}),0)}}function i(n){var e;switch(n.size){case 0:return null;case 1:e=n.head,n.head=null;break;case 2:e=n.last,n.head.next=null,n.last=null;break;default:e=n.last,n.last=e.prev,n.last.next=null}return e.prev=null,e.queue=null,n.size--,e.value}function a(n){var e;switch(n.size){case 0:return null;case 1:e=n.head,n.head=null;break;case 2:e=n.head,n.last.prev=null,n.head=n.last,n.last=null;break;default:e=n.head,n.head=e.next,n.head.prev=null}return e.next=null,e.queue=null,n.size--,e.value}return t.EMPTY=r,t.putLast=function(n,t){var r=new e(n,t);switch(n.size){case 0:n.head=r;break;case 1:r.prev=n.head,n.head.next=r,n.last=r;break;default:r.prev=n.last,n.last.next=r,n.last=r}return n.size++,r},t.takeLast=i,t.takeHead=a,t.deleteCell=function(n){null!==n.queue&&(n.queue.last!==n?n.queue.head!==n?(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.queue.size--,n.queue=null,n.value=null,n.next=null,n.prev=null):a(n.queue):i(n.queue))},t.drainVar=function(n,e){if(!e.draining){var t,i,u,c,f,s=e.puts,l=e.takes,d=e.reads;for(e.draining=!0;;){if(t=null,i=null,u=null,c=e.value,f=d.size,null!==e.error){for(c=n.left(e.error);t=a(s);)o(t.cb(c));for(;i=a(d);)o(i(c));for(;u=a(l);)o(u(c));break}if(c===r&&(t=a(s))&&(e.value=c=t.value),c!==r){for(u=a(l);f--&&(i=a(d));)o(i(n.right(c)));null!==u&&(e.value=r,o(u(n.right(c))))}if(null!==t&&o(t.cb(n.right(void 0))),e.value===r&&0===s.size||e.value!==r&&0===l.size)break}e.draining=!1}},t}();n.empty=function(){return new e(e.EMPTY)},n._newVar=function(n){return function(){return new e(n)}},n._putVar=function(n,t,r,o){return function(){var i=e.putLast(r.puts,{cb:o,value:t});return e.drainVar(n,r),function(){e.deleteCell(i)}}},n._takeVar=function(n,t,r){return function(){var o=e.putLast(t.takes,r);return e.drainVar(n,t),function(){e.deleteCell(o)}}},n._readVar=function(n,t,r){return function(){var o=e.putLast(t.reads,r);return e.drainVar(n,t),function(){e.deleteCell(o)}}}}(PS["Effect.AVar"]=PS["Effect.AVar"]||{}),function(n){"use strict";n["Effect.AVar"]=n["Effect.AVar"]||{};var e=n["Effect.AVar"],t=n["Effect.AVar"],r=n["Data.Either"],o=n["Data.Maybe"],i=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),u=function(){function n(){}return n.value=new n,n}(),c=t._newVar,f={left:r.Left.create,right:r.Right.create,nothing:o.Nothing.value,just:o.Just.create,killed:i.create,filled:a.create,empty:u.value};e.Killed=i,e.Filled=a,e.Empty=u,e.new=c,e.take=function(n){return function(e){return t._takeVar(f,n,e)}},e.put=function(n){return function(e){return function(r){return t._putVar(f,n,e,r)}}},e.read=function(n){return function(e){return t._readVar(f,n,e)}},e.empty=t.empty}(PS),function(n){"use strict";n["Effect.Aff.AVar"]=n["Effect.Aff.AVar"]||{};var e=n["Effect.Aff.AVar"],t=n["Effect.AVar"],r=n["Effect.Aff"],o=n["Effect.Class"],i=o.liftEffect(r.monadEffectAff)(t.empty);e.new=function(n){return o.liftEffect(r.monadEffectAff)(t.new(n))},e.empty=i,e.take=function(n){return r.makeAff((function(e){return function(){var o=t.take(n)(e)();return r.effectCanceler(o)}}))},e.put=function(n){return function(e){return r.makeAff((function(o){return function(){var i=t.put(n)(e)(o)();return r.effectCanceler(i)}}))}},e.read=function(n){return r.makeAff((function(e){return function(){var o=t.read(n)(e)();return r.effectCanceler(o)}}))}}(PS),function(n){"use strict";n._copyST=function(n){return function(){var e={};for(var t in n)hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}},n.empty={},n.runST=function(n){return n()},n._lookup=function(n,e,t,r){return t in r?e(r[t]):n}}(PS["Foreign.Object"]=PS["Foreign.Object"]||{}),function(n){"use strict";n.runFn4=function(n){return function(e){return function(t){return function(r){return function(o){return n(e,t,r,o)}}}}}}(PS["Data.Function.Uncurried"]=PS["Data.Function.Uncurried"]||{}),function(n){"use strict";n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{};var e=n["Data.Function.Uncurried"],t=n["Data.Function.Uncurried"];e.runFn4=t.runFn4}(PS),function(n){"use strict";n.poke=function(n){return function(e){return function(t){return function(){return t[n]=e,t}}}},n.delete=function(n){return function(e){return function(){return delete e[n],e}}}}(PS["Foreign.Object.ST"]=PS["Foreign.Object.ST"]||{}),function(n){"use strict";n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{};var e=n["Foreign.Object.ST"],t=n["Foreign.Object.ST"];e.poke=t.poke,e.delete=t.delete}(PS),function(n){"use strict";n["Foreign.Object"]=n["Foreign.Object"]||{};var e=n["Foreign.Object"],t=n["Foreign.Object"],r=n["Data.Function.Uncurried"],o=n["Data.Maybe"],i=n["Foreign.Object.ST"],a=t._copyST,u=function(n){return function(e){return t.runST((function(){var t=a(e)();n(t)();return t}))}},c=r.runFn4(t._lookup)(o.Nothing.value)(o.Just.create);e.insert=function(n){return function(e){return u(i.poke(n)(e))}},e.lookup=c,e.delete=function(n){return u(i.delete(n))},e.thawST=a,e.empty=t.empty}(PS),function(n){"use strict";n["Data.Exists"]=n["Data.Exists"]||{};var e=n["Data.Exists"],t=n["Unsafe.Coerce"],r=t.unsafeCoerce,o=t.unsafeCoerce;e.mkExists=o,e.runExists=r}(PS),function(n){"use strict";n.unsafeToForeign=function(n){return n},n.unsafeFromForeign=function(n){return n},n.typeOf=function(n){return _typeof(n)},n.tagOf=function(n){return Object.prototype.toString.call(n).slice(8,-1)},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n},n.isArray=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}}(PS.Foreign=PS.Foreign||{}),function(n){"use strict";n["Data.Boolean"]=n["Data.Boolean"]||{};n["Data.Boolean"].otherwise=!0}(PS),function(n){"use strict";n["Data.List.NonEmpty"]=n["Data.List.NonEmpty"]||{};var e=n["Data.List.NonEmpty"],t=n["Data.List.Types"],r=n["Data.NonEmpty"];e.singleton=function(n){return t.NonEmptyList(r.singleton(t.plusList)(n))}}(PS),function(n){"use strict";n.Foreign=n.Foreign||{};var e=n.Foreign,t=n.Foreign,r=n["Control.Applicative"],o=n["Control.Monad.Error.Class"],i=n["Control.Monad.Except.Trans"],a=n["Data.Boolean"],u=n["Data.Identity"],c=n["Data.List.NonEmpty"],f=n["Data.Show"],s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),d=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),w=new f.Show((function(n){if(n instanceof s)return"(ForeignError "+f.show(f.showString)(n.value0)+")";if(n instanceof d)return"(ErrorAtIndex "+f.show(f.showInt)(n.value0)+" "+f.show(w)(n.value1)+")";if(n instanceof p)return"(ErrorAtProperty "+f.show(f.showString)(n.value0)+" "+f.show(w)(n.value1)+")";if(n instanceof l)return"(TypeMismatch "+f.show(f.showString)(n.value0)+" "+f.show(f.showString)(n.value1)+")";throw new Error("Failed pattern match at Foreign (line 63, column 1 - line 63, column 47): "+[n.constructor.name])})),v=function(n){return o.throwError(i.monadThrowExceptT(u.monadIdentity))(c.singleton(n))},g=function(n){return function(e){if(t.tagOf(e)===n)return r.pure(i.applicativeExceptT(u.monadIdentity))(t.unsafeFromForeign(e));if(a.otherwise)return v(new l(n,t.tagOf(e)));throw new Error("Failed pattern match at Foreign (line 106, column 1 - line 106, column 55): "+[n.constructor.name,e.constructor.name])}},m=g("String");e.ForeignError=s,e.TypeMismatch=l,e.ErrorAtIndex=d,e.ErrorAtProperty=p,e.unsafeReadTagged=g,e.readString=m,e.readArray=function(n){if(t.isArray(n))return r.pure(i.applicativeExceptT(u.monadIdentity))(t.unsafeFromForeign(n));if(a.otherwise)return v(new l("array",t.tagOf(n)));throw new Error("Failed pattern match at Foreign (line 147, column 1 - line 147, column 42): "+[n.constructor.name])},e.fail=v,e.showForeignError=w,e.unsafeToForeign=t.unsafeToForeign,e.unsafeFromForeign=t.unsafeFromForeign,e.typeOf=t.typeOf,e.isNull=t.isNull,e.isUndefined=t.isUndefined}(PS),function(n){"use strict";n.parseJSONImpl=function(n){return JSON.parse(n)}}(PS["Foreign.JSON"]=PS["Foreign.JSON"]||{}),function(n){"use strict";n.unsafePerformEffect=function(n){return n()}}(PS["Effect.Unsafe"]=PS["Effect.Unsafe"]||{}),function(n){"use strict";n["Effect.Unsafe"]=n["Effect.Unsafe"]||{};var e=n["Effect.Unsafe"],t=n["Effect.Unsafe"];e.unsafePerformEffect=t.unsafePerformEffect}(PS),function(n){"use strict";n["Foreign.JSON"]=n["Foreign.JSON"]||{};var e=n["Foreign.JSON"],t=n["Foreign.JSON"],r=n["Control.Applicative"],o=n["Control.Monad.Except.Trans"],i=n["Data.Bifunctor"],a=n["Data.Either"],u=n["Data.Identity"],c=n["Data.List.Types"],f=n["Effect.Exception"],s=n["Effect.Unsafe"],l=n.Foreign;e.parseJSON=function(n){return o.ExceptT(u.Identity(i.lmap(a.bifunctorEither)((function(n){return r.pure(c.applicativeNonEmptyList)(l.ForeignError.create(f.message(n)))}))(s.unsafePerformEffect(f.try((function(){return t.parseJSONImpl(n)}))))))}}(PS),function(n){"use strict";n.unsafeStringify=function(n){return JSON.stringify(n)}}(PS["Global.Unsafe"]=PS["Global.Unsafe"]||{}),function(n){"use strict";n["Global.Unsafe"]=n["Global.Unsafe"]||{};var e=n["Global.Unsafe"],t=n["Global.Unsafe"];e.unsafeStringify=t.unsafeStringify}(PS),function(n){"use strict";n.range=function(n){return function(e){for(var t=n>e?-1:1,r=new Array(t*(e-n)+1),o=n,i=0;o!==e;)r[i++]=o,o+=t;return r[i]=o,r}},n.length=function(n){return n.length},n.indexImpl=function(n){return function(e){return function(t){return function(r){return r<0||r>=t.length?e:n(t[r])}}}},n.concat=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var e=[],t=0,r=n.length;t<r;t++)for(var o=n[t],i=0,a=o.length;i<a;i++)e.push(o[i]);return e},n.filter=function(n){return function(e){return e.filter(n)}},n.sortImpl=function(n){return function(e){return e.slice().sort((function(e,t){return n(e)(t)}))}},n.slice=function(n){return function(e){return function(t){return t.slice(n,e)}}},n.zipWith=function(n){return function(e){return function(t){for(var r=e.length<t.length?e.length:t.length,o=new Array(r),i=0;i<r;i++)o[i]=n(e[i])(t[i]);return o}}}}(PS["Data.Array"]=PS["Data.Array"]||{}),function(n){"use strict";n.pushAll=function(n){return function(e){return function(){return e.push.apply(e,n)}}},n.unsafeFreeze=function(n){return function(){return n}},n.unsafeThaw=function(n){return function(){return n}}}(PS["Data.Array.ST"]=PS["Data.Array.ST"]||{}),function(n){"use strict";n["Data.Array.ST"]=n["Data.Array.ST"]||{};var e=n["Data.Array.ST"],t=n["Data.Array.ST"];e.push=function(n){return t.pushAll([n])},e.unsafeFreeze=t.unsafeFreeze,e.unsafeThaw=t.unsafeThaw}(PS),function(n){"use strict";var e=function(n){return function(e){return n===e}};n.eqBooleanImpl=e,n.eqIntImpl=e,n.eqStringImpl=e}(PS["Data.Eq"]=PS["Data.Eq"]||{}),function(n){"use strict";n["Data.Eq"]=n["Data.Eq"]||{};var e=n["Data.Eq"],t=n["Data.Eq"],r=function(n){this.eq=n},o=new r(t.eqStringImpl),i=new r(t.eqIntImpl),a=new r(t.eqBooleanImpl),u=function(n){return n.eq};e.Eq=r,e.eq=u,e.notEq=function(n){return function(e){return function(t){return u(a)(u(n)(e)(t))(!1)}}},e.eqBoolean=a,e.eqInt=i,e.eqString=o}(PS),function(n){"use strict";var e=function(n){return function(e){return function(t){return function(r){return function(o){return r<o?n:r===o?e:t}}}}};n.ordIntImpl=e,n.ordStringImpl=e}(PS["Data.Ord"]=PS["Data.Ord"]||{}),function(n){"use strict";n["Data.Ordering"]=n["Data.Ordering"]||{};var e=n["Data.Ordering"],t=n["Data.Eq"],r=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),a=new t.Eq((function(n){return function(e){return n instanceof r&&e instanceof r||(n instanceof o&&e instanceof o||n instanceof i&&e instanceof i)}}));e.LT=r,e.GT=o,e.EQ=i,e.eqOrdering=a}(PS),function(n){"use strict";n["Data.Ord"]=n["Data.Ord"]||{};var e=n["Data.Ord"],t=n["Data.Ord"],r=n["Data.Eq"],o=n["Data.Ordering"],i=function(n,e){this.Eq0=n,this.compare=e},a=new i((function(){return r.eqString}),t.ordStringImpl(o.LT.value)(o.EQ.value)(o.GT.value)),u=new i((function(){return r.eqInt}),t.ordIntImpl(o.LT.value)(o.EQ.value)(o.GT.value)),c=function(n){return n.compare};e.Ord=i,e.compare=c,e.comparing=function(n){return function(e){return function(t){return function(r){return c(n)(e(t))(e(r))}}}},e.ordInt=u,e.ordString=a}(PS),function(n){"use strict";n["Data.Array"]=n["Data.Array"]||{};var e=n["Data.Array"],t=n["Data.Array"],r=n["Control.Applicative"],o=n["Control.Monad.ST.Internal"],i=n["Data.Array.ST"],a=n["Data.Eq"],u=n["Data.Functor"],c=n["Data.Maybe"],f=n["Data.Ord"],s=n["Data.Ordering"],l=n["Data.Tuple"],d=t.zipWith(l.Tuple.create),p=function(n){return function(e){return t.sortImpl((function(e){return function(t){var r=n(e)(t);if(r instanceof s.GT)return 1;if(r instanceof s.EQ)return 0;if(r instanceof s.LT)return-1;throw new Error("Failed pattern match at Data.Array (line 702, column 15 - line 707, column 1): "+[r.constructor.name])}}))(e)}},w=function(n){return function(e){return p(f.comparing(n)(e))}},v=function(n){return[n]},g=function(n){return function(e){return t.zipWith(n)(t.range(0)(t.length(e)-1|0))(e)}},m=t.indexImpl(c.Just.create)(c.Nothing.value),y=function(n){return m(n)(t.length(n)-1|0)},h=function(n){return m(n)(0)},A=function(n){return function(e){var t,d=p((function(e){return function(t){return n(l.snd(e))(l.snd(t))}}))(g(l.Tuple.create)(e)),m=h(d);if(m instanceof c.Nothing)return[];if(m instanceof c.Just)return u.map(u.functorArray)(l.snd)(w(f.ordInt)(l.fst)((t=i.unsafeThaw(v(m.value0))(),o.foreach(d)((function(e){return function(){var f=u.map(o.functorST)((function(n){return l.snd((e=n,c.fromJust()(y(e))));var e}))(i.unsafeFreeze(t))();return r.when(o.applicativeST)(a.notEq(s.eqOrdering)(n(f)(e.value1))(s.EQ.value))(u.void(o.functorST)(i.push(e)(t)))()}}))(),i.unsafeFreeze(t)())));throw new Error("Failed pattern match at Data.Array (line 903, column 17 - line 911, column 29): "+[m.constructor.name])}};e.singleton=v,e.head=h,e.last=y,e.index=m,e.mapWithIndex=g,e.sortBy=p,e.sortWith=w,e.nub=function(n){return A(f.compare(n))},e.nubBy=A,e.zip=d,e.range=t.range,e.length=t.length,e.concat=t.concat,e.filter=t.filter,e.zipWith=t.zipWith}(PS),function(n){"use strict";n.traverseArrayImpl=function(){function n(n){return[n]}function e(n){return function(e){return[n,e]}}function t(n){return function(e){return function(t){return[n,e,t]}}}function r(n){return function(e){return n.concat(e)}}return function(o){return function(i){return function(a){return function(u){return function(c){return function f(s,l){switch(l-s){case 0:return a([]);case 1:return i(n)(u(c[s]));case 2:return o(i(e)(u(c[s])))(u(c[s+1]));case 3:return o(o(i(t)(u(c[s])))(u(c[s+1])))(u(c[s+2]));default:var d=s+2*Math.floor((l-s)/4);return o(i(r)(f(s,d)))(f(d,l))}}(0,c.length)}}}}}}()}(PS["Data.Traversable"]=PS["Data.Traversable"]||{}),function(n){"use strict";n["Data.Traversable"]=n["Data.Traversable"]||{};var e=n["Data.Traversable"],t=n["Data.Traversable"],r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Category"],a=n["Data.Foldable"],u=n["Data.Functor"],c=function(n,e,t,r){this.Foldable1=n,this.Functor0=e,this.sequence=t,this.traverse=r},f=function(n){return n.traverse},s=function(n){return function(e){return f(n)(e)(i.identity(i.categoryFn))}},l=new c((function(){return a.foldableArray}),(function(){return u.functorArray}),(function(n){return s(l)(n)}),(function(n){return t.traverseArrayImpl(o.apply(n.Apply0()))(u.map(n.Apply0().Functor0()))(r.pure(n))}));e.Traversable=c,e.traverse=f,e.sequence=function(n){return n.sequence},e.sequenceDefault=s,e.traversableArray=l}(PS),function(n){"use strict";n["Foreign.Class"]=n["Foreign.Class"]||{};var e=n["Foreign.Class"],t=n["Control.Bind"],r=n["Control.Monad.Except"],o=n["Control.Monad.Except.Trans"],i=n["Data.Array"],a=n["Data.Bifunctor"],u=n["Data.Either"],c=n["Data.Functor"],f=n["Data.Identity"],s=n["Data.List.Types"],l=n["Data.Traversable"],d=n.Foreign,p=function(n){this.encode=n},w=function(n){this.decode=n},v=new p(d.unsafeToForeign),g=new w(d.readString),m=function(n){return n.decode};e.decode=m,e.encode=function(n){return n.encode},e.Decode=w,e.Encode=p,e.stringDecode=g,e.arrayDecode=function(n){return new w((e=function(e){return function(t){return r.mapExcept(a.lmap(u.bifunctorEither)(c.map(s.functorNonEmptyList)(d.ErrorAtIndex.create(e))))(m(n)(t))}},t.composeKleisli(o.bindExceptT(f.monadIdentity))(d.readArray)((function(n){return l.sequence(l.traversableArray)(o.applicativeExceptT(f.monadIdentity))(i.zipWith(e)(i.range(0)(i.length(n)))(n))}))));var e},e.stringEncode=v}(PS),function(n){"use strict";n["Data.Generic.Rep"]=n["Data.Generic.Rep"]||{};var e=n["Data.Generic.Rep"],t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),o=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),i=function(){function n(){}return n.value=new n,n}();e.Generic=function(n,e){this.from=n,this.to=e},e.to=function(n){return n.to},e.from=function(n){return n.from},e.NoArguments=i,e.Inl=t,e.Inr=r,e.Product=o,e.Constructor=function(n){return n}}(PS),function(n){"use strict";n["Data.Symbol"]=n["Data.Symbol"]||{};var e=n["Data.Symbol"],t=function(){function n(){}return n.value=new n,n}();e.IsSymbol=function(n){this.reflectSymbol=n},e.reflectSymbol=function(n){return n.reflectSymbol},e.SProxy=t}(PS),function(n){"use strict";n.unsafeReadPropImpl=function(n,e,t,r){return null==r?n:e(r[t])},n.unsafeHasOwnProperty=function(n,e){return Object.prototype.hasOwnProperty.call(e,n)},n.unsafeHasProperty=function(n,e){return n in e}}(PS["Foreign.Index"]=PS["Foreign.Index"]||{}),function(n){"use strict";n["Foreign.Index"]=n["Foreign.Index"]||{};var e=n["Foreign.Index"],t=n["Foreign.Index"],r=n["Control.Applicative"],o=n["Control.Monad.Except.Trans"],i=n["Data.Function"],a=n["Data.Identity"],u=n.Foreign,c=function(n,e,t,r){this.errorAt=n,this.hasOwnProperty=e,this.hasProperty=t,this.index=r},f=function(n){return function(e){return t.unsafeReadPropImpl(u.fail(new u.TypeMismatch("object",u.typeOf(e))),r.pure(o.applicativeExceptT(a.monadIdentity)),n,e)}},s=new c(u.ErrorAtProperty.create,(function(n){return function(e){return!u.isNull(e)&&(!u.isUndefined(e)&&(("object"===u.typeOf(e)||"function"===u.typeOf(e))&&t.unsafeHasOwnProperty(n,e)))}}),(function(n){return function(e){return!u.isNull(e)&&(!u.isUndefined(e)&&(("object"===u.typeOf(e)||"function"===u.typeOf(e))&&t.unsafeHasProperty(n,e)))}}),i.flip(f));e.Index=c,e.readProp=f,e.index=function(n){return n.index},e.hasProperty=function(n){return n.hasProperty},e.hasOwnProperty=function(n){return n.hasOwnProperty},e.errorAt=function(n){return n.errorAt},e.indexString=s}(PS),function(n){"use strict";n.copyRecord=function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},n.unsafeInsert=function(n){return function(e){return function(t){return t[n]=e,t}}}}(PS["Record.Builder"]=PS["Record.Builder"]||{}),function(n){"use strict";n["Record.Builder"]=n["Record.Builder"]||{};var e=n["Record.Builder"],t=n["Record.Builder"],r=n["Control.Category"],o=n["Control.Semigroupoid"],i=n["Data.Symbol"],a=o.semigroupoidFn,u=r.categoryFn;e.build=function(n){return function(e){return n(t.copyRecord(e))}},e.insert=function(n){return function(n){return function(n){return function(e){return function(r){return function(o){return t.unsafeInsert(i.reflectSymbol(n)(e))(r)(o)}}}}}},e.semigroupoidBuilder=a,e.categoryBuilder=u}(PS),function(n){"use strict";n["Type.Data.RowList"]=n["Type.Data.RowList"]||{};var e=n["Type.Data.RowList"],t=function(){function n(){}return n.value=new n,n}();e.RLProxy=t}(PS),function(n){"use strict";n["Type.Proxy"]=n["Type.Proxy"]||{};var e=n["Type.Proxy"],t=function(){function n(){}return n.value=new n,n}();e.Proxy=t}(PS),function(n){"use strict";n["Foreign.Generic.Class"]=n["Foreign.Generic.Class"]||{};var e=n["Foreign.Generic.Class"],t=n["Control.Alt"],r=n["Control.Applicative"],o=n["Control.Bind"],i=n["Control.Category"],a=n["Control.Monad.Except"],u=n["Control.Monad.Except.Trans"],c=n["Control.Semigroupoid"],f=n["Data.Bifunctor"],s=n["Data.Either"],l=n["Data.Foldable"],d=n["Data.Function"],p=n["Data.Functor"],w=n["Data.Generic.Rep"],v=n["Data.Identity"],g=n["Data.List"],m=n["Data.List.Types"],y=n["Data.Show"],h=n["Data.Symbol"],A=n.Foreign,S=n["Foreign.Class"],E=n["Foreign.Index"],_=n["Record.Builder"],C=n["Type.Data.RowList"],b=n["Type.Proxy"],T=function(n){this.decodeArgs=n},D=function(n){this.decodeOpts=n},P=function(n){this.countArgs=n},F=function(n){this.decode_=n},I=function(n){this.decodeRecord_=n},k=new T((function(n){return function(n){return function(e){return e instanceof m.Nil?r.pure(u.applicativeExceptT(v.monadIdentity))({result:w.NoArguments.value,rest:m.Nil.value,next:n}):A.fail(new A.ForeignError("Too many constructor arguments"))}}})),O=new P((function(n){return new s.Left(w.NoArguments.value)})),x=new P((function(n){return new s.Right(1)})),M=function(n){return n.decode_},B=function(n){return n.decodeRecord_},L=new I((function(n){return function(n){return function(n){return r.pure(u.applicativeExceptT(v.monadIdentity))(i.identity(_.categoryBuilder))}}})),R=function(n){return n.decodeOpts},N=function(n){return n.decodeArgs},j=function(n){return n.countArgs};e.countArgs=j,e.decodeArgs=N,e.decodeOpts=R,e.decodeRecord_=B,e.decode_=M,e.GenericDecode=D,e.GenericDecodeArgs=T,e.GenericCountArgs=P,e.Decode_=F,e.DecodeRecord=I,e.genericDecodeConstructor=function(n){return function(e){return function(t){return new D((function(i){return function(c){var d=j(t)(b.Proxy.value),S=function(n){if(d instanceof s.Left)return r.pure(u.applicativeExceptT(v.monadIdentity))(d.value0);if(d instanceof s.Right&&1===d.value0&&i.unwrapSingleArguments)return o.bind(u.bindExceptT(v.monadIdentity))(N(e)(i)(0)(g.singleton(n)))((function(n){return o.discard(o.discardUnit)(u.bindExceptT(v.monadIdentity))(r.unless(u.applicativeExceptT(v.monadIdentity))(g.null(n.rest))(A.fail(new A.ForeignError("Expected a single argument"))))((function(){return r.pure(u.applicativeExceptT(v.monadIdentity))(n.result)}))}));if(d instanceof s.Right)return o.bind(u.bindExceptT(v.monadIdentity))(A.readArray(n))((function(n){return o.bind(u.bindExceptT(v.monadIdentity))(N(e)(i)(0)(g.fromFoldable(l.foldableArray)(n)))((function(n){return o.discard(o.discardUnit)(u.bindExceptT(v.monadIdentity))(r.unless(u.applicativeExceptT(v.monadIdentity))(g.null(n.rest))(A.fail(new A.ForeignError("Expected "+y.show(y.showInt)(d.value0)+" constructor arguments"))))((function(){return r.pure(u.applicativeExceptT(v.monadIdentity))(n.result)}))}))}));throw new Error("Failed pattern match at Foreign.Generic.Class (line 75, column 9 - line 87, column 24): "+[d.constructor.name])},_=h.reflectSymbol(n)(h.SProxy.value);return i.unwrapSingleConstructors?p.map(u.functorExceptT(v.functorIdentity))(w.Constructor)(S(c)):o.bind(u.bindExceptT(v.monadIdentity))(a.mapExcept(f.lmap(s.bifunctorEither)(p.map(m.functorNonEmptyList)(A.ErrorAtProperty.create(i.sumEncoding.value0.tagFieldName))))(o.bind(u.bindExceptT(v.monadIdentity))(o.bind(u.bindExceptT(v.monadIdentity))(E.index(E.indexString)(c)(i.sumEncoding.value0.tagFieldName))(A.readString))((function(n){var e=i.sumEncoding.value0.constructorTagTransform(_);return o.discard(o.discardUnit)(u.bindExceptT(v.monadIdentity))(r.unless(u.applicativeExceptT(v.monadIdentity))(n===e)(A.fail(new A.ForeignError("Expected "+y.show(y.showString)(e)+" tag"))))((function(){return r.pure(u.applicativeExceptT(v.monadIdentity))(n)}))}))))((function(n){return o.bind(u.bindExceptT(v.monadIdentity))(a.mapExcept(f.lmap(s.bifunctorEither)(p.map(m.functorNonEmptyList)(A.ErrorAtProperty.create(i.sumEncoding.value0.contentsFieldName))))(o.bind(u.bindExceptT(v.monadIdentity))(E.index(E.indexString)(c)(i.sumEncoding.value0.contentsFieldName))(S)))((function(n){return r.pure(u.applicativeExceptT(v.monadIdentity))(n)}))}))}}))}}},e.genericDecodeSum=function(n){return function(e){return new D((function(r){return function(o){var i={unwrapSingleConstructors:!1,fieldTransform:r.fieldTransform,sumEncoding:r.sumEncoding,unwrapSingleArguments:r.unwrapSingleArguments};return t.alt(u.altExceptT(m.semigroupNonEmptyList)(v.monadIdentity))(p.map(u.functorExceptT(v.functorIdentity))(w.Inl.create)(R(n)(i)(o)))(p.map(u.functorExceptT(v.functorIdentity))(w.Inr.create)(R(e)(i)(o)))}}))}},e.genericDecodeArgsNoArguments=k,e.genericDecodeArgsArgument=function(n){return new T((function(e){return function(t){return function(i){return i instanceof m.Cons?o.bind(u.bindExceptT(v.monadIdentity))(a.mapExcept(f.lmap(s.bifunctorEither)(p.map(m.functorNonEmptyList)(A.ErrorAtIndex.create(t))))(M(n)(e)(i.value0)))((function(n){return r.pure(u.applicativeExceptT(v.monadIdentity))({result:n,rest:i.value1,next:t+1|0})})):A.fail(new A.ForeignError("Not enough constructor arguments"))}}}))},e.genericDecodeArgsProduct=function(n){return function(e){return new T((function(t){return function(i){return function(a){return o.bind(u.bindExceptT(v.monadIdentity))(N(n)(t)(i)(a))((function(n){return o.bind(u.bindExceptT(v.monadIdentity))(N(e)(t)(n.next)(n.rest))((function(e){return r.pure(u.applicativeExceptT(v.monadIdentity))({result:new w.Product(n.result,e.result),rest:e.rest,next:e.next})}))}))}}}))}},e.genericCountArgsNoArguments=O,e.genericCountArgsArgument=x,e.genericCountArgsProduct=function(n){return function(e){return new P((function(t){var r=j(e)(b.Proxy.value),o=j(n)(b.Proxy.value);if(o instanceof s.Left&&r instanceof s.Left)return new s.Left(new w.Product(o.value0,r.value0));if(o instanceof s.Left&&r instanceof s.Right)return new s.Right(r.value0);if(o instanceof s.Right&&r instanceof s.Left)return new s.Right(o.value0);if(o instanceof s.Right&&r instanceof s.Right)return new s.Right(o.value0+r.value0|0);throw new Error("Failed pattern match at Foreign.Generic.Class (line 168, column 5 - line 172, column 40): "+[o.constructor.name,r.constructor.name])}))}},e.decode_Record=function(n){return function(n){return new F((function(e){return p.map(p.functorFn)(p.map(u.functorExceptT(v.functorIdentity))(d.flip(_.build)({})))(B(n)(C.RLProxy.value)(e))}))}},e.decode_Other=function(n){return new F((function(e){return S.decode(n)}))},e.decodeRecordNil=L,e.decodeRecordCons=function(n){return function(e){return function(t){return function(i){return function(l){return new I((function(d){return function(d){return function(w){return o.bind(u.bindExceptT(v.monadIdentity))(B(e)(C.RLProxy.value)(d)(w))((function(e){var g=h.reflectSymbol(t)(h.SProxy.value),y=d.fieldTransform(g);return o.bind(u.bindExceptT(v.monadIdentity))(E.index(E.indexString)(w)(y))((function(w){return o.bind(u.bindExceptT(v.monadIdentity))(a.mapExcept(f.lmap(s.bifunctorEither)(p.map(m.functorNonEmptyList)(A.ErrorAtProperty.create(y))))(M(i)(d)(w)))((function(o){return r.pure(u.applicativeExceptT(v.monadIdentity))(c.composeFlipped(_.semigroupoidBuilder)(e)(_.insert(n)(l)(t)(h.SProxy.value)(o)))}))}))}))}}}))}}}}}}(PS),function(n){"use strict";n["Foreign.Generic.Types"]=n["Foreign.Generic.Types"]||{};var e=n["Foreign.Generic.Types"],t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}();e.TaggedObject=t}(PS),function(n){"use strict";n["Foreign.Generic"]=n["Foreign.Generic"]||{};var e=n["Foreign.Generic"],t=n["Control.Category"],r=n["Control.Monad.Except.Trans"],o=n["Data.Functor"],i=n["Data.Generic.Rep"],a=n["Data.Identity"],u=n["Foreign.Generic.Class"],c={sumEncoding:new n["Foreign.Generic.Types"].TaggedObject({tagFieldName:"tag",contentsFieldName:"contents",constructorTagTransform:t.identity(t.categoryFn)}),unwrapSingleConstructors:!1,unwrapSingleArguments:!0,fieldTransform:t.identity(t.categoryFn)};e.defaultOptions=c,e.genericDecode=function(n){return function(e){return function(t){return function(c){return o.map(r.functorExceptT(a.functorIdentity))(i.to(n))(u.decodeOpts(e)(t)(c))}}}}}(PS),function(n){"use strict";n["Presto.Core.Utils.Encoding"]=n["Presto.Core.Utils.Encoding"]||{};var e=n["Presto.Core.Utils.Encoding"],t=n["Foreign.Generic"],r={sumEncoding:t.defaultOptions.sumEncoding,unwrapSingleConstructors:!0,unwrapSingleArguments:t.defaultOptions.unwrapSingleArguments,fieldTransform:t.defaultOptions.fieldTransform};e.defaultDecode=function(n){return function(e){return function(o){return t.genericDecode(n)(e)(r)(o)}}}}(PS),function(n){"use strict";n["Presto.Core.Types.API"]=n["Presto.Core.Types.API"]||{};var e=n["Presto.Core.Types.API"],t=n["Data.Generic.Rep"],r=n["Data.Symbol"],o=n["Foreign.Class"],i=n["Foreign.Generic.Class"],a=n["Presto.Core.Utils.Encoding"],u=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),s=function(){function n(){}return n.value=new n,n}(),l=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),d=new t.Generic((function(n){return n}),(function(n){return n})),p=new t.Generic((function(n){if(n instanceof u)return new t.Inl(t.NoArguments.value);if(n instanceof c)return new t.Inr(new t.Inl(t.NoArguments.value));if(n instanceof f)return new t.Inr(new t.Inr(new t.Inl(t.NoArguments.value)));if(n instanceof s)return new t.Inr(new t.Inr(new t.Inr(t.NoArguments.value)));throw new Error("Failed pattern match at Presto.Core.Types.API (line 94, column 8 - line 94, column 50): "+[n.constructor.name])}),(function(n){if(n instanceof t.Inl)return u.value;if(n instanceof t.Inr&&n.value0 instanceof t.Inl)return c.value;if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inl)return f.value;if(n instanceof t.Inr&&n.value0 instanceof t.Inr&&n.value0.value0 instanceof t.Inr)return s.value;throw new Error("Failed pattern match at Presto.Core.Types.API (line 94, column 8 - line 94, column 50): "+[n.constructor.name])})),w=new t.Generic((function(n){return n}),(function(n){return n})),v=new t.Generic((function(n){return new t.Product(n.value0,n.value1)}),(function(n){return new l(n.value0,n.value1)})),g=new o.Decode(a.defaultDecode(p)(i.genericDecodeSum(i.genericDecodeConstructor(new r.IsSymbol((function(){return"POST"})))(i.genericDecodeArgsNoArguments)(i.genericCountArgsNoArguments))(i.genericDecodeSum(i.genericDecodeConstructor(new r.IsSymbol((function(){return"GET"})))(i.genericDecodeArgsNoArguments)(i.genericCountArgsNoArguments))(i.genericDecodeSum(i.genericDecodeConstructor(new r.IsSymbol((function(){return"PUT"})))(i.genericDecodeArgsNoArguments)(i.genericCountArgsNoArguments))(i.genericDecodeConstructor(new r.IsSymbol((function(){return"DELETE"})))(i.genericDecodeArgsNoArguments)(i.genericCountArgsNoArguments)))))),m=new o.Decode(a.defaultDecode(v)(i.genericDecodeConstructor(new r.IsSymbol((function(){return"Header"})))(i.genericDecodeArgsProduct(i.genericDecodeArgsArgument(i.decode_Other(o.stringDecode)))(i.genericDecodeArgsArgument(i.decode_Other(o.stringDecode))))(i.genericCountArgsProduct(i.genericCountArgsArgument)(i.genericCountArgsArgument)))),y=new o.Decode(a.defaultDecode(w)(i.genericDecodeConstructor(new r.IsSymbol((function(){return"Headers"})))(i.genericDecodeArgsArgument(i.decode_Other(o.arrayDecode(m))))(i.genericCountArgsArgument))),h=new o.Decode(a.defaultDecode(d)(i.genericDecodeConstructor(new r.IsSymbol((function(){return"Request"})))(i.genericDecodeArgsArgument(i.decode_Record()(i.decodeRecordCons()(i.decodeRecordCons()(i.decodeRecordCons()(i.decodeRecordCons()(i.decodeRecordNil)(new r.IsSymbol((function(){return"url"})))(i.decode_Other(o.stringDecode))())(new r.IsSymbol((function(){return"payload"})))(i.decode_Other(o.stringDecode))())(new r.IsSymbol((function(){return"method"})))(i.decode_Other(g))())(new r.IsSymbol((function(){return"headers"})))(i.decode_Other(y))())))(i.genericCountArgsArgument)));e.POST=u,e.GET=c,e.PUT=f,e.DELETE=s,e.Header=l,e.genericMethod=p,e.decodeMethod=g,e.genericHeader=v,e.decodeHeaderG=m,e.genericHeaders=w,e.decodeHeadersG=y,e.genericRequest=d,e.decodeRequestG=h}(PS),function(n){"use strict";n["Presto.Core.Types.Language.Interaction"]=n["Presto.Core.Types.Language.Interaction"]||{};n["Presto.Core.Types.Language.Interaction"].ForeignOut=function(n){return n}}(PS),function(n){"use strict";n["Presto.Core.Language.Runtime.API"]=n["Presto.Core.Language.Runtime.API"]||{};var e=n["Presto.Core.Language.Runtime.API"],t=n["Control.Applicative"],r=n["Control.Bind"],o=n["Control.Monad.Error.Class"],i=n["Control.Monad.Except"],a=n["Control.Monad.Free"],u=n["Data.Either"],c=n["Data.List.Types"],f=n["Data.Show"],s=n["Effect.Aff"],l=n["Effect.Exception"],d=n.Foreign,p=n["Foreign.Class"],w=n["Presto.Core.Types.API"],v=n["Presto.Core.Types.Language.Interaction"];e.runAPIInteraction=function(n){return a.foldFree(s.monadRecAff)(function(n){return function(e){var a=i.runExcept(p.decode(w.decodeRequestG)(e.value0));if(a instanceof u.Left)return o.throwError(s.monadThrowAff)(l.error("apiInteract is broken: "+f.show(c.showNonEmptyList(d.showForeignError))(a.value0)));if(a instanceof u.Right)return r.bind(s.bindAff)(n(a.value0))((function(n){return t.pure(s.applicativeAff)(e.value1(v.ForeignOut(p.encode(p.stringEncode)(n))))}));throw new Error("Failed pattern match at Presto.Core.Language.Runtime.API (line 22, column 3 - line 27, column 45): "+[a.constructor.name])}}(n))}}(PS),function(n){n.getValueFromLocalStoreImpl=function(n){return JBridge.getFromSharedPrefs(n)},n.setValueToLocalStoreImpl=function(n,e){return JBridge.setInSharedPrefs(n,e)},n.deleteValueFromLocalStoreImpl=function(n){JBridge.removeDataFromSharedPrefs(n)}}(PS["Presto.Core.LocalStorage"]=PS["Presto.Core.LocalStorage"]||{}),function(n){"use strict";n["Presto.Core.LocalStorage"]=n["Presto.Core.LocalStorage"]||{};var e=n["Presto.Core.LocalStorage"],t=n["Presto.Core.LocalStorage"],r=n["Control.Applicative"],o=n["Control.Bind"],i=n["Data.Eq"],a=n["Data.Functor"],u=n["Data.Maybe"],c=n["Effect.Aff"],f=n["Effect.Class"];e.getValueFromLocalStore=function(n){var e=f.liftEffect(c.monadEffectAff)((function(){return t.getValueFromLocalStoreImpl(n)}));return o.ifM(c.bindAff)(a.map(c.functorAff)(i.eq(i.eqString)("__failed"))(e))(r.pure(c.applicativeAff)(u.Nothing.value))(a.map(c.functorAff)(u.Just.create)(e))},e.setValueToLocalStore=function(n){return function(e){return f.liftEffect(c.monadEffectAff)((function(){return t.setValueToLocalStoreImpl(n,e)}))}},e.deleteValueFromLocalStore=function(n){return f.liftEffect(c.monadEffectAff)((function(){return t.deleteValueFromLocalStoreImpl(n)}))}}(PS),function(n){"use strict";n["Data.Time.Duration"]=n["Data.Time.Duration"]||{};var e=n["Data.Time.Duration"],t=n["Control.Category"],r=function(n,e){this.fromDuration=n,this.toDuration=e},o=new r(t.identity(t.categoryFn),t.identity(t.categoryFn));e.fromDuration=function(n){return n.fromDuration},e.toDuration=function(n){return n.toDuration},e.Duration=r,e.durationMilliseconds=o}(PS),function(n){"use strict";n["Presto.Core.Types.Language.Flow"]=n["Presto.Core.Types.Language.Flow"]||{};var e=n["Presto.Core.Types.Language.Flow"],t=n["Control.Category"],r=n["Control.Monad.Free"],o=n["Data.Exists"],i=n["Data.Time.Duration"],a=n["Data.Unit"],u=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),d=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),w=function(){function n(n,e,t){this.value0=n,this.value1=e,this.value2=t}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n}(),v=function(){function n(n,e,t,r){this.value0=n,this.value1=e,this.value2=t,this.value3=r}return n.create=function(e){return function(t){return function(r){return function(o){return new n(e,t,r,o)}}}},n}(),g=function(){function n(n,e,t){this.value0=n,this.value1=e,this.value2=t}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),y=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),h=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),A=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),S=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),E=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),_=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),C=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),b=function(n){return n},T=function(n){return r.liftF(o.mkExists(n))};e.LocalStore=u,e.InMemoryStore=c,e.ThrowError=f,e.ReturnResult=s,e.RunUI=l,e.ForkUI=d,e.CallAPI=p,e.Get=w,e.Set=v,e.Delete=g,e.Fork=m,e.DoAff=y,e.Await=h,e.Delay=A,e.OneOf=S,e.HandleError=E,e.CheckPermissions=_,e.TakePermissions=C,e.FlowWrapper=b,e.wrap=T,e.launch=function(n){return T(new m(n,t.identity(t.categoryFn)))},e.doAff=function(n){return T(new y(n,t.identity(t.categoryFn)))},e.delay=function(n){return function(e){return T(new A(i.fromDuration(n)(e),a.unit))}}}(PS),function(n){"use strict";n["Presto.Core.Language.Runtime.Interpreter"]=n["Presto.Core.Language.Runtime.Interpreter"]||{};var e=n["Presto.Core.Language.Runtime.Interpreter"],t=n["Control.Applicative"],r=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad.Error.Class"],a=n["Control.Monad.Except"],u=n["Control.Monad.Free"],c=n["Control.Monad.State.Class"],f=n["Control.Monad.State.Trans"],s=n["Control.Monad.Trans.Class"],l=n["Control.Parallel"],d=n["Data.Either"],p=n["Data.Exists"],w=n["Data.Foldable"],v=n["Data.Function"],g=n["Data.Functor"],m=n["Data.List.Types"],y=n["Data.Show"],h=n["Effect.Aff"],A=n["Effect.Aff.AVar"],S=n["Effect.Exception"],E=n.Foreign,_=n["Foreign.JSON"],C=n["Foreign.Object"],b=n["Global.Unsafe"],T=n["Presto.Core.Language.Runtime.API"],D=n["Presto.Core.LocalStorage"],P=n["Presto.Core.Types.Language.Flow"],F=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(t){return new n(e,t)}},n}(),I=function(){function n(n,e,t){this.value0=n,this.value1=e,this.value2=t}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n}(),k=function(n){if(n instanceof P.ThrowError)return i.throwError(f.monadThrowStateT(h.monadThrowAff))(S.error(n.value0));if(n instanceof P.ReturnResult)return t.pure(f.applicativeStateT(h.monadAff))(n.value0);throw new Error("Failed pattern match at Presto.Core.Language.Runtime.Interpreter (line 79, column 1 - line 79, column 63): "+[n.constructor.name])},O=o.bind(f.bindStateT(h.monadAff))(c.get(f.monadStateStateT(h.monadAff)))((function(n){return s.lift(f.monadTransStateT)(h.monadAff)(A.read(n))})),x=function(n){return u.foldFree(h.monadRecAff)(function(n){return function(e){return o.bind(h.bindAff)(n(b.unsafeStringify(e.value0)))((function(n){var r=a.runExcept(_.parseJSON(n));if(r instanceof d.Right)return t.pure(h.applicativeAff)(e.value1(r.value0));if(r instanceof d.Left)return i.throwError(h.monadThrowAff)(S.error(y.show(m.showNonEmptyList(E.showForeignError))(r.value0)));throw new Error("Failed pattern match at Presto.Core.Language.Runtime.Interpreter (line 63, column 3 - line 65, column 46): "+[r.constructor.name])}))}}(n))},M=function(n){return u.foldFree(f.monadRecStateT(h.monadRecAff))((function(e){return p.runExists(B(n))(e)}))},B=function(n){return function(e){if(e instanceof P.CallAPI)return s.lift(f.monadTransStateT)(h.monadAff)(o.bind(h.bindAff)(T.runAPIInteraction(n.value2)(e.value0))((function(n){return t.pure(h.applicativeAff)(e.value1(n))})));if(e instanceof P.RunUI)return s.lift(f.monadTransStateT)(h.monadAff)(o.bind(h.bindAff)(x(n.value0)(e.value0))((function(n){return t.pure(h.applicativeAff)(e.value1(n))})));if(e instanceof P.ForkUI)return o.discard(o.discardUnit)(f.bindStateT(h.monadAff))(g.void(f.functorStateT(h.functorAff))(s.lift(f.monadTransStateT)(h.monadAff)(h.forkAff(x(n.value0)(e.value0)))))((function(){return t.pure(f.applicativeStateT(h.monadAff))(e.value1)}));if(e instanceof P.Get&&e.value0 instanceof P.LocalStore)return s.lift(f.monadTransStateT)(h.monadAff)(o.bind(h.bindAff)(D.getValueFromLocalStore(e.value1))((function(n){return t.pure(h.applicativeAff)(e.value2(n))})));if(e instanceof P.Get&&e.value0 instanceof P.InMemoryStore)return o.bind(f.bindStateT(h.monadAff))(O)((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value2(C.lookup(e.value1)(n)))}));if(e instanceof P.Set&&e.value0 instanceof P.LocalStore)return o.discard(o.discardUnit)(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(D.setValueToLocalStore(e.value1)(e.value2)))((function(){return t.pure(f.applicativeStateT(h.monadAff))(e.value3)}));if(e instanceof P.Set&&e.value0 instanceof P.InMemoryStore)return r.applySecond(f.applyStateT(h.monadAff))((i=e.value1,function(n){return o.bind(f.bindStateT(h.monadAff))(c.get(f.monadStateStateT(h.monadAff)))((function(e){return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(A.take(e)))((function(t){var r=C.insert(i)(n)(t);return s.lift(f.monadTransStateT)(h.monadAff)(A.put(r)(e))}))}))})(e.value2))(t.pure(f.applicativeStateT(h.monadAff))(e.value3));var i;if(e instanceof P.Delete&&e.value0 instanceof P.LocalStore)return o.discard(o.discardUnit)(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(D.deleteValueFromLocalStore(e.value1)))((function(){return t.pure(f.applicativeStateT(h.monadAff))(e.value2)}));if(e instanceof P.Delete&&e.value0 instanceof P.InMemoryStore)return o.bind(f.bindStateT(h.monadAff))(g.map(f.functorStateT(h.functorAff))(C.delete(e.value1))(O))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value2)}));if(e instanceof P.Fork)return o.bind(f.bindStateT(h.monadAff))(L(n)(e.value0))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value1(n))}));if(e instanceof P.DoAff)return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(e.value0))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value1(n))}));if(e instanceof P.Await)return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(A.read(e.value0)))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value1(n))}));if(e instanceof P.Delay)return r.applySecond(f.applyStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(h.delay(e.value0)))(t.pure(f.applicativeStateT(h.monadAff))(e.value1));if(e instanceof P.OneOf){return o.bind(f.bindStateT(h.monadAff))(c.get(f.monadStateStateT(h.monadAff)))((function(r){return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(l.parOneOf(h.parallelAff)(h.alternativeParAff)(w.foldableArray)(g.functorArray)(g.map(g.functorArray)((i=r,function(e){return f.runStateT(M(n)(e))(i)}))(e.value0))))((function(n){return o.discard(o.discardUnit)(f.bindStateT(h.monadAff))(c.put(f.monadStateStateT(h.monadAff))(n.value1))((function(){return t.pure(f.applicativeStateT(h.monadAff))(e.value1(n.value0))}))}));var i}))}if(e instanceof P.HandleError)return o.bind(f.bindStateT(h.monadAff))(o.bind(f.bindStateT(h.monadAff))(M(n)(e.value0))(k))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(e.value1(n))}));if(e instanceof P.CheckPermissions)return s.lift(f.monadTransStateT)(h.monadAff)(o.bind(h.bindAff)(n.value1.value0(e.value0))((function(n){return t.pure(h.applicativeAff)(e.value1(n))})));if(e instanceof P.TakePermissions)return s.lift(f.monadTransStateT)(h.monadAff)(o.bind(h.bindAff)(n.value1.value1(e.value0))((function(n){return t.pure(h.applicativeAff)(e.value1(n))})));throw new Error("Failed pattern match at Presto.Core.Language.Runtime.Interpreter (line 83, column 1 - line 83, column 64): "+[n.constructor.name,e.constructor.name])}},L=function(n){return function(e){return o.bind(f.bindStateT(h.monadAff))(c.get(f.monadStateStateT(h.monadAff)))((function(r){return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(A.empty))((function(i){var a=f.evalStateT(h.functorAff)(M(n)(e))(r);return o.bind(f.bindStateT(h.monadAff))(s.lift(f.monadTransStateT)(h.monadAff)(h.forkAff(o.bind(h.bindAff)(a)(v.flip(A.put)(i)))))((function(n){return t.pure(f.applicativeStateT(h.monadAff))(i)}))}))}))}};e.Runtime=I,e.PermissionRunner=F,e.run=M}(PS),function(n){"use strict";n["Presto.Core.Types.Permission"]=n["Presto.Core.Types.Permission"]||{};var e=n["Presto.Core.Types.Permission"],t=function(){function n(){}return n.value=new n,n}();e.PermissionGranted=t}(PS),function(n){"use strict";n["Engineering.Helpers.Commons"]=n["Engineering.Helpers.Commons"]||{};var e=n["Engineering.Helpers.Commons"],t=n["Engineering.Helpers.Commons"],r=n["Control.Applicative"],o=n["Control.Bind"],i=n["Control.Monad.Free"],a=n["Control.Monad.State.Trans"],u=n["Data.Function"],c=n["Effect.Aff"],f=n["Effect.Aff.AVar"],s=n["Effect.Class"],l=n["Foreign.Object"],d=n["Presto.Core.Language.Runtime.Interpreter"],p=n["Presto.Core.Types.Language.Flow"],w=n["Presto.Core.Types.Permission"],v=function(n){return function(e){return o.bind(i.freeBind)(o.bind(i.freeBind)(e)(n))((function(n){return e}))}},g=u.flip(v),m=function(n){return p.doAff(s.liftEffect(c.monadEffectAff)(n))};e.toFlow=m,e.flowRunner=function(n){var e=new d.Runtime(r.pure(c.applicativeAff),new d.PermissionRunner(u.const(r.pure(c.applicativeAff)(w.PermissionGranted.value)),u.const(r.pure(c.applicativeAff)([]))),u.const(r.pure(c.applicativeAff)(""))),t=a.evalStateT(c.functorAff)(d.run(e)(n));return c.launchAff_(o.bind(c.bindAff)(f.new(l.empty))(t))},e.getValueFromWindow=function(n){return function(e){return m(t["getValueFromWindow'"](n)(e))}},e.useAndReturn=v,e.useAndReturnFlip=g,e.toJSON=t.toJSON}(PS),function(exports){function M(n){for(var e,t="0123456789ABCDEF",r="",o=0;o<n.length;o++)e=n.charCodeAt(o),r+=t.charAt(e>>>4&15)+t.charAt(15&e);return r}function X(n){for(var e=Array(n.length>>2),t=0;t<e.length;t++)e[t]=0;for(t=0;t<8*n.length;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return e}function V(n){for(var e="",t=0;t<32*n.length;t+=8)e+=String.fromCharCode(n[t>>5]>>>t%32&255);return e}function Y(n,e){n[e>>5]|=128<<e%32,n[14+(e+64>>>9<<4)]=e;for(var t=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<n.length;a+=16){var u=t,c=r,f=o,s=i;r=md5_ii(r=md5_ii(r=md5_ii(r=md5_ii(r=md5_hh(r=md5_hh(r=md5_hh(r=md5_hh(r=md5_gg(r=md5_gg(r=md5_gg(r=md5_gg(r=md5_ff(r=md5_ff(r=md5_ff(r=md5_ff(r,o=md5_ff(o,i=md5_ff(i,t=md5_ff(t,r,o,i,n[a+0],7,-680876936),r,o,n[a+1],12,-389564586),t,r,n[a+2],17,606105819),i,t,n[a+3],22,-1044525330),o=md5_ff(o,i=md5_ff(i,t=md5_ff(t,r,o,i,n[a+4],7,-176418897),r,o,n[a+5],12,1200080426),t,r,n[a+6],17,-1473231341),i,t,n[a+7],22,-45705983),o=md5_ff(o,i=md5_ff(i,t=md5_ff(t,r,o,i,n[a+8],7,1770035416),r,o,n[a+9],12,-1958414417),t,r,n[a+10],17,-42063),i,t,n[a+11],22,-1990404162),o=md5_ff(o,i=md5_ff(i,t=md5_ff(t,r,o,i,n[a+12],7,1804603682),r,o,n[a+13],12,-40341101),t,r,n[a+14],17,-1502002290),i,t,n[a+15],22,1236535329),o=md5_gg(o,i=md5_gg(i,t=md5_gg(t,r,o,i,n[a+1],5,-165796510),r,o,n[a+6],9,-1069501632),t,r,n[a+11],14,643717713),i,t,n[a+0],20,-373897302),o=md5_gg(o,i=md5_gg(i,t=md5_gg(t,r,o,i,n[a+5],5,-701558691),r,o,n[a+10],9,38016083),t,r,n[a+15],14,-660478335),i,t,n[a+4],20,-405537848),o=md5_gg(o,i=md5_gg(i,t=md5_gg(t,r,o,i,n[a+9],5,568446438),r,o,n[a+14],9,-1019803690),t,r,n[a+3],14,-187363961),i,t,n[a+8],20,1163531501),o=md5_gg(o,i=md5_gg(i,t=md5_gg(t,r,o,i,n[a+13],5,-1444681467),r,o,n[a+2],9,-51403784),t,r,n[a+7],14,1735328473),i,t,n[a+12],20,-1926607734),o=md5_hh(o,i=md5_hh(i,t=md5_hh(t,r,o,i,n[a+5],4,-378558),r,o,n[a+8],11,-2022574463),t,r,n[a+11],16,1839030562),i,t,n[a+14],23,-35309556),o=md5_hh(o,i=md5_hh(i,t=md5_hh(t,r,o,i,n[a+1],4,-1530992060),r,o,n[a+4],11,1272893353),t,r,n[a+7],16,-155497632),i,t,n[a+10],23,-1094730640),o=md5_hh(o,i=md5_hh(i,t=md5_hh(t,r,o,i,n[a+13],4,681279174),r,o,n[a+0],11,-358537222),t,r,n[a+3],16,-722521979),i,t,n[a+6],23,76029189),o=md5_hh(o,i=md5_hh(i,t=md5_hh(t,r,o,i,n[a+9],4,-640364487),r,o,n[a+12],11,-421815835),t,r,n[a+15],16,530742520),i,t,n[a+2],23,-995338651),o=md5_ii(o,i=md5_ii(i,t=md5_ii(t,r,o,i,n[a+0],6,-198630844),r,o,n[a+7],10,1126891415),t,r,n[a+14],15,-1416354905),i,t,n[a+5],21,-57434055),o=md5_ii(o,i=md5_ii(i,t=md5_ii(t,r,o,i,n[a+12],6,1700485571),r,o,n[a+3],10,-1894986606),t,r,n[a+10],15,-1051523),i,t,n[a+1],21,-2054922799),o=md5_ii(o,i=md5_ii(i,t=md5_ii(t,r,o,i,n[a+8],6,1873313359),r,o,n[a+15],10,-30611744),t,r,n[a+6],15,-1560198380),i,t,n[a+13],21,1309151649),o=md5_ii(o,i=md5_ii(i,t=md5_ii(t,r,o,i,n[a+4],6,-145523070),r,o,n[a+11],10,-1120210379),t,r,n[a+2],15,718787259),i,t,n[a+9],21,-343485551),t=safe_add(t,u),r=safe_add(r,c),o=safe_add(o,f),i=safe_add(i,s)}return Array(t,r,o,i)}function md5_cmn(n,e,t,r,o,i){return safe_add(bit_rol(safe_add(safe_add(e,n),safe_add(r,i)),o),t)}function md5_ff(n,e,t,r,o,i,a){return md5_cmn(e&t|~e&r,n,e,o,i,a)}function md5_gg(n,e,t,r,o,i,a){return md5_cmn(e&r|t&~r,n,e,o,i,a)}function md5_hh(n,e,t,r,o,i,a){return md5_cmn(e^t^r,n,e,o,i,a)}function md5_ii(n,e,t,r,o,i,a){return md5_cmn(t^(e|~r),n,e,o,i,a)}function safe_add(n,e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}function bit_rol(n,e){return n<<e|n>>>32-e}window.mappStack=[],window.mappCount={},window.ipcChannels={},window.eventListeners={},window.__PRESTO_ID=1,window.mappSequence=[],window.urlList={},window.ipcServer="IPC_server",window.emptyIPCClientResponse={result:"NOT_FOUND",channelId:"null",ops:function(){}},window.postDownloadInterfaces=[],window.backpressHandlers={};var getMicroAppConfig=function(n,e){var t={},r={"in.juspay.hypermanage":"in.juspay.hyperpay","in.hyper.manage":"in.juspay.hyperpay","in.hyper.pay":"in.juspay.hyperpay"},o={"in.juspay.hyperpay":["in.juspay.ec"],"in.juspay.hyperapi":["in.juspay.ec"],"in.hyper.pay":["in.juspay.hyperpay"],"in.juspay.ec":["in.juspay.dotp","in.juspay.vies","in.juspay.upiintent"]};try{if("function"==typeof window.getConfig)t=window.getConfig(n).apps||{}}catch(n){window.Analytics&&"function"==typeof window.Analytics.trackExceptionCritical&&window.Analytics.trackExceptionCritical("jos_config_exception")(n.toString())("JOS config unable to evaluate")(),_jbridge.runInJuspayBrowser("onError",JSON.stringify({fileName:"v1-config.jsa"}),null)}return t.hasOwnProperty(e)?t[e]:{src:"",version:"",iconUrl:"",assets:{},root:"payments/"+(r[e]?r[e]:e)+"/",entry:"base.html",canOpen:o[e]?o[e]:[]}},getOS=function(){if(window.__OS&&"string"==typeof window.__OS)return window.__OS;var n,e=navigator.userAgent;return null==e?"":(n=-1!=e.indexOf("Android")&&-1!=e.indexOf("Version")?"ANDROID":-1==e.indexOf("iPhone")&&-1==e.indexOf("iPad")&&-1==e.indexOf("Macintosh")||-1!=e.indexOf("Version")?"WEB":"IOS",window.__OS=n,n)},getHash=function(n,e){var t,r=n.split("/");for(var o in r)if(""!=r[o]){if(!e||!e[r[o]])break;e=e[r[o]]}return e&&e.hash&&(t=e.hash),t},addToSharedPref=function(n,e){return _jbridge.setInSharedPrefs(n,JSON.stringify(e))};exports["readFile'"]=function(n){return function(){return _jbridge.loadFileInDUI(n)}},exports["eval'"]=function(string){return function(){try{eval(string)}catch(n){console.error(n)}}},exports["loadS'"]=function(n){return function(){return _jbridge.getFromSharedPrefs(n)}},exports.logAny=function(n){console.log(n)},exports["bootComplete'"]=function(n){return function(){try{var e=JSON.parse(n);return void 0===e.service&&(e.service="null"),void 0===e.services&&(e.services=[],e.services.push(e.service)),void 0===e.pre_fetch&&(e.pre_fetch="false"),void 0===e.service_based&&(e.service_based=!1),void 0===e.betaAssets&&(e.betaAssets=!1),"string"==typeof e.betaAssets&&(e.betaAssets=!1),void 0===e.use_local_assets&&(e.use_local_assets=!1),void 0===e.attempt_recovery&&(e.attempt_recovery=!0),null!=e.payload&&"object"==_typeof(e.payload)||(e.payload={}),"string"!=typeof e.payload.clientId&&(e.payload.clientId=""),e}catch(n){return console.error(n),{error:"true",msg:n,service:"null"}}}},exports["mergeJBridge'"]=function(){try{if(JBridge={},"undefined"!=typeof BridgeList&&"function"==typeof BridgeList.getBridgeKeys&&JSON.parse(BridgeList.getBridgeKeys()).forEach((function(n){var e=window[n];for(var t in e)JBridge[t]=e[t].bind(e)})),Object.keys(_jbridge).length>0)for(var n in _jbridge)"setSessionId"!=n?JBridge[n]=window._jbridge[n].bind(window._jbridge):(JBridge.setSessionId=function(n){console.log("Session Id is set in native")},window._jbridge&&window._jbridge.trackEvent||(JBridge.trackEvent=function(n,e){console.log("This method is deprecated")}));if("undefined"!=typeof MerchantJBridge&&Object.keys(MerchantJBridge).length>0)for(var n in window._merchantJbridge=MerchantJBridge,_merchantJbridge)JBridge[n]=window._merchantJbridge[n].bind(window._merchantJbridge);JBridge.getSessionId=JBridge.getSessionId||function(){return window.latestSessionId||"null"}}catch(n){console.error(n)}},exports["shutDown'"]=function(n){return function(e){return function(t){return function(r){return function(){var o={event:n+"_result",requestId:e.requestId?e.requestId:"",service:e.service?e.service:"in.juspay.hyperos",payload:0==t?{}:{payload:r},error:0==t,errorCode:0==t?"JP_OS_004":"",errorMessage:0==t?r:""};_jbridge.runInJuspayBrowser("onEvent",JSON.stringify(o),null)}}}}},exports["readIfExist'"]=function(n){return function(){try{if(""==n)return"__failed";console.log(n);var e=_jbridge.loadFileInDUI(n);return void 0===e||""==e?"__failed":e}catch(n){return console.error(n),"__failed"}}},exports["isMAppPresent'"]=function(n){return function(){try{return!!window.mapps[n]}catch(n){return console.error(n),!1}}},exports["createIframe'"]=function(n){return function(e){return function(){var t=document.createElement("iframe");t.id=n,t.srcdoc=e,void 0===window.mapps&&(window.mapps={}),window.mapps[n]=t}}},exports["injectIframe'"]=function(n){return function(e){return function(t){return function(){if(void 0===window.mapps||void 0===window.mapps[n])return"__failed";"undefined"!=typeof window&&(e.global_session_id="string"==typeof window.hyper_session_id?window.hyper_session_id:"na",e.parent_session_id=void 0===window.latestSessionId?window.hyper_session_id:window.latestSessionId);var r=window.mapps[n];if(window.JOSHolder=window.JOSHolder||{},window.JOSHolder[n]=t,window.getTrackerModule&&window.getTrackerModule.Main&&window.getTrackerModule.Main.initTracker){var o=n.split(".");window.JOSHolder[n].tracker=window.getTrackerModule.Main.initTracker(o[o.length-1])}var i="<html><script>window.__payload = "+JSON.stringify(e)+"; window.JOS = top.JOSHolder['"+n+"']; window.__OS = "+JSON.stringify(getOS())+"; <\/script>";return r.srcdoc=r.srcdoc.replace("<html>",i),document.body.appendChild(r),"__success"}}}},exports["findPath'"]=function(n){return function(e){return function(){var t=getMicroAppConfig(n,e);return void 0!==t&&t.root+t.entry||""}}},exports["registerOS'"]=function(n){return function(e){return function(){if(window.mapps[n]){var e=window.mapps[n];e.contentWindow.JBridge=window.JBridge,window.Android&&(e.contentWindow.Android=window.Android)}}}},exports["removeIframe'"]=function(n){return function(){void 0!==window.mapps[n]&&document.body.removeChild(window.mapps[n])}},exports["removeView'"]=function(n){return function(){if(void 0!==window.mapps[n]){var e,t=window.mapps[n];t.contentWindow.N?(e=t.contentWindow.N.children[0].__ref.__id,isNaN(parseInt(e))||(Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";get_VIEW->removeAllViews;",null),Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;",null)),e=t.contentWindow.N.__ref.__id):(e=(t.contentWindow.__ROOTSCREEN||{idSet:{root:"null"}}).idSet.root,isNaN(parseInt(e))||(Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";get_VIEW->removeAllViews;",null),Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;",null)),e=(t.contentWindow.__ROOTSCREEN||{layout:{idSet:{id:"null"}}}).layout.idSet.id),"null"!=e?(Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";get_VIEW->removeAllViews;",null),Android.runInUI("set_VIEW=ctx->findViewById:i_"+e+";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;",null),console.log("View Removed")):console.error("Error: ROOTSCREEN can't be found")}}},exports["unregister'"]=function(n){return function(){void 0!==window.mapps[n.callee]&&delete window.mapps[n.callee]}};var logTimeAndReturnCallback=function(n,e,t,r){return function(o){var i=Date.now()-e;if("true"==o&&window.Analytics&&"function"==typeof window.Analytics.trackEventInfo){console.log("Download Time",{fileName:t,time:i});var a="stable";-1!=n.indexOf("staggered-release-assets")&&(a="staggered"),window.Analytics._trackAction("system")("info")("file_download_time")({fileName:t,time:i,staggered_type:a})()}r("true"==o)()}};exports["download'"]=function(n){return function(e){return function(t){return function(){window.urlList&&window.urlList[n]&&(n=window.urlList[n]),console.log("downloading asset "+n+" "+e);var r=e+n.substr(n.lastIndexOf("/")+1);window.__BOOT_LOADER=window.__BOOT_LOADER||{},window.__BOOT_LOADER["file_"+r]=logTimeAndReturnCallback(n,Date.now(),r,t),console.log("download",n),_jbridge.renewFile(n,r,"file_"+r)}}}},exports["downloadManifest'"]=function(){return function(n){return function(e){return function(){window.__BOOT_LOADER=window.__BOOT_LOADER||{},window.__BOOT_LOADER.onManifestDownloaded=function(n){console.log("is manifest new: ",n);try{var t=JSON.parse(_jbridge.loadFileInDUI("manifest.json"));e({code:-1,result:t})()}catch(n){e({code:0,result:n})()}},_jbridge.renewFile(n,"manifest.json","onManifestDownloaded")}}}};var toss=function(){return parseInt(100*Math.random())},shouldStagger=function(n,e,t,r){var o=function(){window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&window.Analytics.trackEventInfo("staged_rollout")("Stagged release config not present for : "+n+";")()},i=function(n){var e=n+"";if(!r){n=-1!=n.indexOf("juspay/payments")?n.replace(/[\/][^\/]*[.][^.]*$/,(function(n){return"/staggered-release-assets"+n})):n.replace("/stable/","/staggered/")}return window.SRUrl=n,e};if(r&&void 0!==window.configPackage&&void 0!==window.configPackage.new&&Object.keys(window.configPackage.new).length>0){var a=i(n+"");return window.tossRollout=window.stagger_percentage,window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&(window.Analytics.trackEventInfo("staged_rollout")("Rollout= "+tossRollout+" ;file:= "+a)(),window.Analytics.trackEventInfo("staged_rollout")("enabled;file:="+a)()),!0}if("object"==_typeof(window.configPackage))return!1;if("object"===_typeof(window.JOSflags)&&!0===window.JOSflags.isCUGUser){window.isCUG=!0;a=i(n+"");return window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&window.Analytics.trackEventInfo("staged_rollout")("cug enabled; file:="+a)(),!0}var u=_jbridge.loadFileInDUI("sdk_config.json"),c="common";window.__payload&&window.__payload.payload&&(c=window.__payload.clientId||window.__payload.payload.clientId||"common"),c=c.split("_")[0];try{u=(u=JSON.parse(u)).staggerData}catch(n){return o(),!1}if(!u)return o(),!1;var f,s=n+"",l=(n=n.replace(/[.]jsa$/,".zip")).split("/"),d=u;for(f=0;f<l.length;++f){if(!d.hasOwnProperty(l[f])){if(""==l[f])continue;return o(),!1}d=d[l[f]]}if(d.hasOwnProperty(c)||(c="common"),!d.hasOwnProperty(c))return o(),!1;if("number"!=typeof(d=d[c]))return!1;a=i(s);return window.tossRollout=d,window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&(window.Analytics.trackEventInfo("staged_rollout")("Rollout="+d+" ;file:="+a)(),window.Analytics.trackEventInfo("staged_rollout")("enabled;file:="+a)()),!0},shouldSkipChecks=function(n,e){try{var t=["/.*/godel/v1-config.*/"];if(window.getConfig&&"function"==typeof window.getConfig){var r=window.getConfig(n);Array.isArray(r.skipRegexes)&&(t=t.concat(r.skipRegexes))}for(;t.length>0;){var o=t.pop();if((o=RegExp(o)).test(e))return!0}}catch(n){}return!1};function toArrayWithKey(n){return function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(n(r)(e[r]));return t}}function isInTestMode(n,e,t){var r=!1;try{if(e&&e[t.payloadEntry])r=!0;else if("ANDROID"==window.getOS()){for(var o=0;o<t.apps.length;o++){var i=t.apps[o].app,a=t.apps[o].package;"function"==typeof JBridge.findApps&&-1!=JBridge.findApps(i).indexOf(a)&&(JBridge.setInSharedPrefs(n,"true"),r=!0)}!r&&"function"==typeof JBridge.findApps&&e&&"true"!=e.pre_fetch&&JBridge.setInSharedPrefs(n,"false"),"true"===JBridge.getFromSharedPrefs(n)&&(r=!0)}else window.DEVICE_NAME==t.DEVICE_NAME&&(r=!0)}catch(e){if(window.Analytics&&"function"==typeof window.Analytics.trackExceptionWarning){var u="string"==typeof e.message?e.message:"",c="string"==typeof e.stack?e.stack:"";window.Analytics.trackExceptionWarning(u)(c)("Exception while checking for "+n)()}}return null!=window.JOSflags&&"object"==_typeof(window.JOSflags)||(window.JOSflags={}),window.JOSflags[n]=r,r}exports.shouldDownload=function(n){return function(e){return function(t){return function(r){return function(o){return function(i){return function(a){if(console.log("download",a,shouldSkipChecks(r)),a)return!0;if(shouldSkipChecks(r))return!0;var u,c,f,s,l,d="string"==typeof o&&""!=o,p="",w="";if("string"!=typeof r)return!1;var v=r.substr(r.lastIndexOf("/")+1).replace(".zip",".jsa");window.urlList[r]=r,e&&e[i+v]&&(f=e[i+v].toss,s=e[i+v].zipHashInDisk);try{p=new URL(r).pathname,"IOS"==getOS()&&(p=p.replace(".zip",".jsa"),d&&(o=o.replace(".zip",".jsa"))),l=d?shouldStagger(new URL(o).pathname,i,t,d):shouldStagger(p,i,t,!1),w=new URL(d?o:r).origin}catch(n){if(window.Analytics&&"function"==typeof window.Analytics.trackEventInfo){var g="string"==typeof n.stack?n.stack:"";window.Analytics.trackEventInfo("shouldDownload_exception")(JSON.stringify({"err.stack":g,url:r,newUrl:o,path:i,bootdata:t}))()}return!1}if(l&&(c=getHash(window.SRUrl,n)),u=getHash(p,n),"IOS"!=getOS()||u||(n["v1-config.jsa"]&&n["v1-config.jsa"].hash?u=n["v1-config.jsa"].hash:n["v1-acs.jsa"]&&n["v1-acs.jsa"].hash&&(u=n["v1-acs.jsa"].hash)),l&&u&&c&&u!=c){console.log("Applying staged rollout");var m=function(n){window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&window.Analytics.trackEventInfo("staged_rollout")(n+";file:="+i+v)()},y=!1;if(window.isCUG)y=!0,m("CUG User, downloading staggered bundle");else if(c==s)y=!0,m("Hash in disk is same as staggered hash retaining staggered bundle");else if(f&&f.staggered_hash==c&&f.toss_result<window.tossRollout)y=!0,m("Upgrading to staggered since rollout percentage has increased");else if(!f||f.staggered_hash!=c){experimentPercentage=void 0===window.toss_result?toss():window.toss_result;var h={stable_hash:u,staggered_hash:c,rollout:window.tossRollout,toss_result:experimentPercentage};m(f?"New toss: value of staggered hash has changed":"New toss: fresh user no toss found"),m("Toss_value : "+experimentPercentage),m("Stored block : "+JSON.stringify(h)),(e=e||{})[i+v]=e[i+v]||{lastChecked:0,hashInDisk:"",zipHashInDisk:""},e[i+v].toss=h,addToSharedPref("asset_metadata.json",e),m(JSON.stringify(h)+";file:="+i+v),experimentPercentage<window.tossRollout&&(y=!0)}if(y&&c){if(m("using_staggered_bundle; hash="+c),window.urlList[r]=w+window.SRUrl,!window.isCUG&&e&&e[i+v])(h=e[i+v].toss).rollout=window.tossRollout,e[i+v].toss=h,addToSharedPref("asset_metadata.json",e);return c!=s}m("using_stable_bundle; hash="+u)}return!!u&&(!s||u!=s)}}}}}}},exports["getConfigStr'"]=function(n){return function(){return"function"==typeof window.getConfig?JSON.stringify(window.getConfig(n)):(_jbridge.runInJuspayBrowser("onError",JSON.stringify({fileName:"v1-config.jsa"}),null),"")}},exports["getDependantMicroApps'"]=function(n){return function(e){return function(){var t=getMicroAppConfig(n,e);return t&&t.canOpen&&Array.isArray(t.canOpen)?t.canOpen:[]}}},exports.getValueFromObject=function(n){return function(e){return void 0!==n&&void 0!==n[e]?n[e]:""}},exports["unregisterAllIPC'"]=function(n){return function(){if(window.mapps&&window.mapps[n]&&window.mapps[n].contentWindow&&window.mapps[n].contentWindow.JOS&&window.mapps[n].contentWindow)var e=window.mapps[n].contentWindow.JOS.ipcChannels=window.mapps[n].contentWindow.JOS.ipcChannels||[];else{e=window.JOSHolder[n]?window.JOSHolder[n].ipcChannels:[];window.mapps&&window.mapps[n]&&window.mapps[n].contentWindow&&(window.mapps[n].contentWindow.JOS=window.JOSHolder[r])}for(var t in console.log("removing ipcs for "+n+": ",e),e){var r=e[t];if(void 0!==window.ipcChannels&&window.ipcChannels.hasOwnProperty(r)){var o=window.ipcChannels[r].serverId,i=window.ipcChannels[r].clientId,a=window.ipcChannels[r].client_callback;unRegisterIPCClient(a,r),unBindIPCServer(o,r),delete window.ipcChannels[r],removeFromAppIPCList(o,r),removeFromAppIPCList(i,r)}}}},addToAppIPCList=function(n,e){if(-1!=n){var t=window.mappStack[n];t.ipcChannels=t.ipcChannels||[],t.ipcChannels.push(e)}},removeFromAppIPCList=function(n,e){var t=window.mapps[n].contentWindow.JOS;t.ipcChannels=t.ipcChannels||[];var r=t.ipcChannels.indexOf(e);-1!=r&&t.ipcChannels.splice(r,1)},requestServerConnection=function(n){return function(n){return function(e){var t=null;return isIpcServerAvailable(n)?void 0!==window.mapps[n]&&window.mapps[n].contentWindow[ipcServer].onBind?t=window.mapps[n].contentWindow[ipcServer].onBind(e):console.error("Error: Incorrect implementation of IPC Server"):console.log("IPC server not found"),t}}},isIpcServerAvailable=function(n){return console.log(ipcServer),"undefined"!=typeof window&&void 0!==window.mapps[n]&&void 0!==window.mapps[n].contentWindow&&void 0!==window.mapps[n].contentWindow[ipcServer]},unBindIPCServer=function(n,e){try{isIpcServerAvailable(n)?window.mapps[n].contentWindow[ipcServer].onUnBind?window.mapps[n].contentWindow[ipcServer].onUnBind(e):console.error("Error: Incorrect implementation of IPC Server"):console.log("IPC server not found")}catch(n){console.error(n)}},unRegisterIPCClient=function(n,e){n&&"function"==typeof n.onServerDisconnected&&n.onServerDisconnected(e)},exports["manifestLocation'"]=function(n){return function(){try{if("function"==typeof window.getConfig){var e=window.getConfig(n);if("string"==typeof e.apps["in.juspay.hyperos"].assets.manifest)return e.apps["in.juspay.hyperos"].assets.manifest}else _jbridge.runInJuspayBrowser("onError",JSON.stringify({fileName:"v1-config.jsa"}),null);return"__failed"}catch(n){return console.error(n),"__failed"}}},exports["sdkLocation'"]=function(n){return function(){try{if("function"==typeof window.getConfig){var e=window.getConfig(n);if("string"==typeof e.apps["in.juspay.hyperos"].assets.sdk_config)return e.apps["in.juspay.hyperos"].assets.sdk_config}else _jbridge.runInJuspayBrowser("onError",JSON.stringify({fileName:"v1-config.jsa"}),null);return"__failed"}catch(n){return console.error(n),"__failed"}}},exports["addEventListener'"]=function(n){return function(e){return function(){var t=window.JOSHolder[n];window.eventListeners[e]=window.eventListeners[e]||[],-1==window.eventListeners[e].indexOf(n)&&window.eventListeners[e].push(n),t.eventListeners=t.eventListeners||[],t.eventListeners.push(e),"function"!=typeof window[e]&&(window[e]=function(){var n=window.eventListeners[e]||[],t=window.mappSequence||[];if(arguments[1])try{var r=JSON.parse(arguments[1]);if(r.service&&-1!=n.indexOf(r.service))return window.mapps[r.service].contentWindow[e].apply(void 0,arguments)}catch(n){console.log("Todo add asset fallback logic")}for(var o=t.length-1;o>=0;o--){var i=t[o];if(window.mapps[i]&&-1!=n.indexOf(i)){console.log("window.mapps["+i+"].contentWindow["+e+"](..."+JSON.stringify(arguments)+");");var a=window.mapps[i].contentWindow[e].apply(void 0,arguments);if("boolean"==typeof a&&a)break}}})}}},exports["removeEventListener'"]=function(n){return function(e){window.eventListeners[e]=window.eventListeners[e]||[];var t=window.eventListeners[e].indexOf(n);-1!=t&&window.eventListeners[e].splice(t,1),0==window.eventListeners[e].length&&delete window.eventListeners[e]}},exports["emitEvent'"]=function(n){return function(e){return function(t){return function(r){return function(o){return function(){var i=(window.mapps[n]||{}).contentWindow;if("java"===e&&i&&i.__PROXY_FN&&null!=i.__FN_INDEX){var a=++i.__FN_INDEX+"";if(i.__PROXY_FN["F"+a]=function(n){"function"==typeof o&&o(n)},"DUI_READY"==JSON.parse(r).action){var u=window.mapps[n].contentWindow.__payload;if("java"==i.JOS.parent&&_jbridge.runInJuspayBrowser("onEvent",r,"F"+a),window.mapps[n].contentWindow.onMerchantEvent("initiate",JSON.stringify(u)),window.cachedResult&&window.cachedResult[n]&&window.cachedResult[n].length)for(var c=0;c<window.cachedResult[n].length;c++)window.eventListeners&&window.eventListeners[window.cachedResult[n][c].event]&&-1!=window.eventListeners[window.cachedResult[n][c].event].indexOf(n)&&i[window.cachedResult[n][c].event]&&(Array.isArray(window.cachedResult[n][c].data)?(window.cachedResult[n][c].data.push(window.cachedResult[n][c].callback),i[window.cachedResult[n][c].event].apply(null,window.cachedResult[n][c].data)):i[window.cachedResult[n][c].event](window.cachedResult[n][c].data,window.cachedResult[n][c].callback))}else _jbridge.runInJuspayBrowser("onEvent",r,"F"+a)}else{var f=(window.mapps[e]||{}).contentWindow;if(f&&"function"==typeof f[t]&&!Array.isArray(r))return f[t](r,o);if(f&&"function"==typeof f[t]&&Array.isArray(r))return r.push(o),f[t].apply(null,r);window.cachedResult=window.cachedResult||{},window.cachedResult[e]=window.cachedResult[e]||[],window.cachedResult[e].push({event:t,data:r,callback:o})}}}}}}},exports.getSessionInfo=function(){return JSON.parse(_jbridge.getSessionInfo())},exports["getMD5'"]=function(n){return function(){return _jbridge.getMd5(n)}},exports.keys=Object.keys||toArrayWithKey((function(n){return function(){return n}})),exports["onBundleLoaded'"]=function(n){return function(){var e={fileName:n};_jbridge.runInJuspayBrowser("onBundleLoaded",JSON.stringify(e),"")}},exports.getOS=function(n){return getOS()},exports["addToMAppSequence'"]=function(n){return function(){window.mappSequence||(window.mappSequence=[]),"function"==typeof window.mappSequence.push&&-1==window.mappSequence.indexOf(n)&&window.mappSequence.push(n)}},exports.getAppMetaData=function(n){return JOSHolder&&JOSHolder[n]?{callback:function(){return function(){return function(){}}},callee:n,caller:JOSHolder[n].parent,eventListeners:JOSHolder[n].eventListeners||[],ipcChannels:JOSHolder[n].ipcChannels||[]}:{callback:function(){return function(){return function(){}}},callee:n,caller:"java",eventListeners:[],ipcChannels:[]}},exports.shouldRespwan=function(n){return function(e){return function(){try{if("function"!=typeof window.getConfig)return _jbridge.runInJuspayBrowser("onError",JSON.stringify({fileName:"v1-config.jsa"}),null),!1;var t=window.getConfig(n).apps||{};if(t[e]&&"boolean"==typeof t[e].allowRollBack)return t[e].allowRollBack}catch(n){console.log("Config does not have rollback whitelist")}return!1}}},exports.logVersions=function(){window.Analytics&&window.Analytics.trackEventInfo("version_microapp")(JSON.stringify({micro_app_id:"hyperos",micro_app_version:window.hyper_core_version,config_version:window.config_version}))()},exports["attemptRecovery'"]=function(){"function"==typeof window.onMerchantEvent&&(window.__payload=window.__payload||{},window.__payload.attempt_recovery=!1,window.onMerchantEvent("initiate",JSON.stringify(window.__payload)))},exports.registerVersion=function(n){return function(e){return function(t){return function(){window.version=window.version||{},window.version[n]=window.version[n]||{},window.version[n][e]=t,"object"==_typeof(window.updateTrackerState)&&"function"==typeof window.updateTrackerState.versionUpdate&&window.updateTrackerState.versionUpdate()}}}},exports.getRegisteredVersions=function(){return"object"==_typeof(window.version)?window.version:{}},exports.renewSdkConfig=function(){"function"==typeof _jbridge.renewSdkConfig&&_jbridge.renewSdkConfig()},exports.renewTrackerInterfaces=function(){void 0!==window.JOSHolder&&null!=window.JOSHolder&&"object"==_typeof(window.JOSHolder)&&Object.keys(window.JOSHolder).forEach((function(n){window.JOSHolder[n].tracker=window.getTrackerModule.Main.initTracker(n)}))},exports.getDownloadHandlers=function(){return window.postDownloadInterfaces},exports["registerFileRule'"]=function(n){return function(e){return function(){window.postDownloadInterfaces.push({pattern:n,postDownload:e})}}},exports.handleBackpress=function(n){return function(e){return function(){var t=function(){var n=0;for(handler in window.backpressHandlers)"number"==typeof window.backpressHandlers[handler]&&(n+=backpressHandlers[handler]);return n},r={event:"jp_consuming_backpress",payload:{jp_consuming_backpress:e}};if(n&&void 0!==e){var o=window.backpressHandlers[n]?window.backpressHandlers[n]:0;if(e)0===t()&&_jbridge.runInJuspayBrowser("onEvent",JSON.stringify(r),""),window.backpressHandlers[n]=o+1;else{var i=o-1;window.backpressHandlers[n]=i<0?0:i,0===t()&&_jbridge.runInJuspayBrowser("onEvent",JSON.stringify(r),"")}}}}},exports.onFileUpdated=function(n){return function(){"function"==typeof window.onFileUpdated&&window.onFileUpdated(n)}},exports.isCug=function(n){return function(){return isInTestMode("isCUGUser",n,{payloadEntry:"cug",apps:[{app:"juspay://pay/cug",package:"in.juspay.cug"}],DEVICE_NAME:"Whale999"})}},exports.isBeta=function(n){return function(){var e=n&&n.payload&&"string"==typeof n.payload.clientId?n.payload.clientId.split("_")[0]:"";return isInTestMode("isBetaUser",n,{payloadEntry:"betaAssets",apps:[{app:"juspay://pay/beta",package:"in.juspay.beta"},{app:"juspay://pay/"+e,package:"in.juspay.devtools"},{app:"juspay://pay/"+e,package:"in.juspay.forceBeta"}],DEVICE_NAME:"Elephant555"})}},exports["waitForDeviceName'"]=function(n){return function(){if("string"!=typeof window.DEVICE_NAME&&"IOS"==window.getOS()){var e=setTimeout((function(){window.Analytics&&"function"==typeof window.Analytics.trackEventInfo&&window.Analytics.trackEventInfo("device_name_timeout")("Waiting for device name timed out, continuing with download, my regards to QA team.")(),n()}),200);window.addEventListener("deviceNameScriptCompleted",(function(t){clearTimeout(e),n()}))}else n()}},exports.devQaDetails=function(){try{if("ANDROID"==window.getOS()&&"function"==typeof JBridge.findApps){var variables=JBridge.getConfigVariables();eval(variables);for(var merchantId=clientId&&"null"!=clientId?clientId.split("_")[0]:"",apps=JSON.parse(JBridge.findApps("juspay://pay/"+merchantId)),i=0;i<apps.length;i++){var devQaAppid="in.juspay.devqa",ticketIndex=apps[i].packageName.substring(0,devQaAppid.length)==devQaAppid?devQaAppid.length:-1;if(-1!=ticketIndex)return{isDevQa:!0,ticketId:apps[i].packageName.substring(ticketIndex)}}return{isDevQa:!1,ticketId:""}}if("string"==typeof window.DEVICE_NAME&&0==window.DEVICE_NAME.indexOf("DevQA"))return{isDevQa:!0,ticketId:window.DEVICE_NAME.replace("DevQA","")}}catch(n){if(window.Analytics&&"function"==typeof window.Analytics.trackExceptionWarning){var msg="string"==typeof n.message?n.message:"",stack="string"==typeof n.stack?n.stack:"";window.Analytics.trackExceptionWarning(msg)(stack)("Exception in isDevQaUser")()}}return{isDevQa:!1,ticketId:""}},exports.getCurrentTime=function(){return Date.now()}}(PS["Engineering.Helpers.Utils"]=PS["Engineering.Helpers.Utils"]||{}),function(n){"use strict";n._indexOf=function(n){return function(e){return function(t){return function(r){var o=r.indexOf(t);return-1===o?e:n(o)}}}}}(PS["Data.String.CodeUnits"]=PS["Data.String.CodeUnits"]||{}),function(n){"use strict";n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{};var e=n["Data.String.CodeUnits"],t=n["Data.String.CodeUnits"],r=n["Data.Maybe"],o=t._indexOf(r.Just.create)(r.Nothing.value);e.contains=function(n){return function(e){return r.isJust(o(n)(e))}},e.indexOf=o}(PS),function(n){n.trackEventInfo=function(n){return function(e){try{var t=window.Analytics._trackAction("system")("info")(n)(e);return"function"==typeof t?t:function(){console.log("Tracker not found")}}catch(n){return function(){console.log("Tracker not found",n)}}}},n.trackCritical=function(n){return function(e){return function(t){try{var r=window.Analytics.trackExceptionCritical(n)(e)(t);return"function"==typeof r?r:function(){console.log("Tracker not found")}}catch(n){return function(){console.log("Tracker not found",n)}}}}},n.trackEventInfoForCategory=function(n){return function(e){return function(t){try{var r=window.getTrackerModule.Main.initTracker(n).trackEventInfo(e)(t);return"function"==typeof r?r:function(){console.log("Tracker not found")}}catch(n){return function(){console.log("Tracker not found",n)}}}}},n.trackSessionInfo=function(n){try{var e=window.Analytics._trackContext("device")("info")("session_info")(n);return"function"==typeof e?e:function(){console.log("Tracker not found")}}catch(n){return function(){console.log("Tracker not found",n)}}},n.processPaymentDetails=function(n){if("1.0.0"!=window.logVersion){var e=n;n.payload&&(e=n.payload);try{var t=window.Analytics._trackContext("payment")("info")("payment_details")(e)();return"function"==typeof t?t:function(){console.log("Tracker not found")}}catch(n){return function(){console.log("Tracker not found",n)}}}}}(PS["Tracker.Tracker"]=PS["Tracker.Tracker"]||{}),function(n){"use strict";n["Tracker.Tracker"]=n["Tracker.Tracker"]||{};var e=n["Tracker.Tracker"],t=n["Tracker.Tracker"],r=n["Engineering.Helpers.Commons"];e.trackOSEvent=function(n){return function(e){return r.toFlow(t.trackEventInfo(n)({data:e}))}},e.trackOSCritical=function(n){return function(e){return function(o){return r.toFlow(t.trackCritical(n)(e)(o))}}},e.trackEvent=function(n){return function(e){return function(o){return r.toFlow(t.trackEventInfoForCategory(n)(e)(o))}}},e.trackPaymentDetails=function(n){return r.toFlow(t.processPaymentDetails(n))},e.trackOSEventPayload=function(n){return function(e){return r.toFlow(t.trackEventInfo(n)(e))}},e.trackSessionInfo=t.trackSessionInfo}(PS),function(n){"use strict";n["Engineering.Helpers.Utils"]=n["Engineering.Helpers.Utils"]||{};var e=n["Engineering.Helpers.Utils"],t=n["Engineering.Helpers.Utils"],r=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],a=n["Control.Monad.Except.Trans"],u=n["Control.Monad.Free"],c=n["Control.Monad.Trans.Class"],f=n["Data.Array"],s=n["Data.Either"],l=n["Data.Foldable"],d=n["Data.Function"],p=n["Data.Functor"],w=n["Data.Maybe"],v=n["Data.Ord"],g=n["Data.Semigroup"],m=n["Data.String.CodeUnits"],y=n["Data.Time.Duration"],h=n["Data.Traversable"],A=n["Data.Unit"],S=n.Effect,E=n["Effect.Aff"],_=n["Effect.Class"],C=n["Engineering.Helpers.Commons"],b=n.Foreign,T=n["Presto.Core.Types.Language.Flow"],D=n["Tracker.Tracker"],P=T.doAff(E.makeAff((function(n){return o.applySecond(S.applyEffect)(t["waitForDeviceName'"](n(new s.Right(A.unit))))(r.pure(S.applicativeEffect)(E.nonCanceler))}))),F=function(n){return function(e){return m.contains(e.pattern)(n)?e.postDownload(n):r.pure(S.applicativeEffect)(A.unit)}},I=function(n){if(!n.value1)return r.pure(u.freeApplicative)(A.unit);if(n.value1)return T.doAff(_.liftEffect(E.monadEffectAff)((function(){var e=t.getDownloadHandlers();return p.void(S.functorEffect)(h.traverse(h.traversableArray)(S.applicativeEffect)(F(n.value0.location))(e))()})));throw new Error("Failed pattern match at Engineering.Helpers.Utils (line 308, column 1 - line 308, column 96): "+[n.constructor.name])},k=function(n){return p.void(u.freeFunctor)(h.traverse(h.traversableArray)(u.freeApplicative)(I)(n))},O=function(n){return function(e){return T.doAff(_.liftEffect(E.monadEffectAff)(t["registerFileRule'"](n)(e)))}},x=function(n){return i.bind(u.freeBind)(C.toFlow(t["loadS'"](n)))((function(n){return"__failed"===n?r.pure(u.freeApplicative)(w.Nothing.value):r.pure(u.freeApplicative)(new w.Just(n))}))},M=t["isMAppPresent'"],B=function(n){return C.toFlow(t["getMD5'"](n))},L=function(n){return function(e){return T.doAff(_.liftEffect(E.monadEffectAff)(t["getDependantMicroApps'"](n)(e)))}},R=function n(e){return function(t){return i.bind(u.freeBind)(p.map(u.freeFunctor)(f.concat)(h.traverse(h.traversableArray)(u.freeApplicative)(L(e))(t)))((function(o){return f.length(f.nub(v.ordString)(g.append(g.semigroupArray)(o)(t)))===f.length(f.nub(v.ordString)(t))?r.pure(u.freeApplicative)(f.nub(v.ordString)(t)):p.map(u.freeFunctor)(g.append(g.semigroupArray)(t))(n(e)(o))}))}},N=function(n){return C.toFlow(t["getConfigStr'"](n))},j=function(n){return function(e){return function(r){return function(o){return function(i){var a=function(){var a=t.shouldDownload(n)(e)(r)(o.src)("")(o.root)(i);if(a)return[{location:o.src,path:o.root}];if(!a)return[];throw new Error("Failed pattern match at Engineering.Helpers.Utils (line 258, column 9 - line 260, column 22): "+[a.constructor.name])}(),u=f.filter((function(a){return t.shouldDownload(n)(e)(r)(t.getValueFromObject(o.assets)(a))("object"===b.typeOf(o.newAssets)?t.getValueFromObject(b.unsafeFromForeign(o.newAssets))(a):"")(o.root)(i)}))(t.keys(o.assets));return g.append(g.semigroupArray)(p.map(p.functorArray)((function(n){return{location:t.getValueFromObject(o.assets)(n),path:o.root}}))(u))(a)}}}}},J=function(n){return function(){i.bindFlipped(S.bindEffect)(t["eval'"])(t["readFile'"]("v1-tracker.jsa"))();return t.renewTrackerInterfaces()}},U=function n(e){return function(a){return function(c){return 6===a?o.applySecond(u.freeApply)(D.trackOSCritical("fetch_resource")("")("couldn't fetch manifest from "+c))(r.pure(u.freeApplicative)({})):i.bind(u.freeBind)(T.doAff(E.makeAff((function(n){return o.applySecond(S.applyEffect)(t["downloadManifest'"](e)(c)((function(e){return n(s.Right.create(e))})))(r.pure(S.applicativeEffect)(E.nonCanceler))}))))((function(t){return-1===t.code?r.pure(u.freeApplicative)(t.result):o.applySecond(u.freeApply)(T.delay(y.durationMilliseconds)(1e3*a))(n(e)(a+1)(c))}))}}},V=function(n){return function(e){return i.bind(E.bindAff)(E.makeAff((function(r){return p.voidLeft(S.functorEffect)(t["download'"](n)(e)((function(n){return r(s.Right.create(n))})))(E.nonCanceler)})))((function(e){return e?_.liftEffect(E.monadEffectAff)(p.voidLeft(S.functorEffect)(t.onFileUpdated(n))(!0)):r.pure(E.applicativeAff)(!1)}))}},W=T.doAff(_.liftEffect(E.monadEffectAff)(t["attemptRecovery'"]));e.renewConfig=function(n){return n?T.doAff(_.liftEffect(E.monadEffectAff)(t.renewSdkConfig)):r.pure(u.freeApplicative)(A.unit)},e.getDependantMicroAppChain=R,e["getDependantMicroAppChain'"]=function n(e){return function(r){return function(){var o=p.map(S.functorEffect)(f.concat)(h.traverse(h.traversableArray)(S.applicativeEffect)(t["getDependantMicroApps'"](e))(r))();return f.length(f.nub(v.ordString)(g.append(g.semigroupArray)(o)(r)))===f.length(f.nub(v.ordString)(r))?f.nub(v.ordString)(r):p.map(S.functorEffect)(g.append(g.semigroupArray)(r))(n(e)(o))()}}},e.manifestLocation=function(n){return i.bind(u.freeBind)(C.toFlow(t["manifestLocation'"](n)))((function(n){return"__failed"===n?r.pure(u.freeApplicative)(w.Nothing.value):r.pure(u.freeApplicative)(new w.Just(n))}))},e.sdkLocation=function(n){return i.bind(u.freeBind)(C.toFlow(t["sdkLocation'"](n)))((function(n){return"__failed"===n?r.pure(u.freeApplicative)(w.Nothing.value):r.pure(u.freeApplicative)(new w.Just(n))}))},e.readFile=function(n){return i.bind(u.freeBind)(a.runExceptT(c.lift(a.monadTransExceptT)(u.freeMonad)(C.toFlow(t["readFile'"](n)))))((function(n){if(n instanceof s.Right)return r.pure(u.freeApplicative)(n.value0);if(n instanceof s.Left)return o.applySecond(o.applyFn)(r.pure(r.applicativeFn)(t.logAny(n.value0)))(r.pure(u.freeApplicative))("");throw new Error("Failed pattern match at Engineering.Helpers.Utils (line 133, column 3 - line 137, column 1): "+[n.constructor.name])}))},e.loadS=x,e.trackConfig=function(n){return i.bind(u.freeBind)(i.bind(u.freeBind)(B(n))(D.trackEvent("JS")("config_min_hash")))((function(n){return i.bind(u.freeBind)(i.bind(u.freeBind)(C.getValueFromWindow("config_version")("null"))(D.trackEvent("os")("hyperos_config_version")))((function(n){return r.pure(u.freeApplicative)(A.unit)}))}))},e.loadedSuccessfully=function(n){return C.toFlow(t["onBundleLoaded'"](n))},e.bootComplete=function(n){return i.bind(u.freeBind)(C.toFlow(t["bootComplete'"](n)))((function(n){var e=["null"===n.service,"true"===n.pre_fetch];return 2===e.length&&e[0]&&e[1]?o.applySecond(u.freeApply)(D.trackOSEvent("boot_completed")("pre fetch mode"))(r.pure(u.freeApplicative)(new w.Just(n))):2===e.length&&e[0]&&!e[1]?o.applySecond(u.freeApply)(D.trackOSCritical("boot_error")("")("initial service null"))(r.pure(u.freeApplicative)(w.Nothing.value)):o.applySecond(u.freeApply)(D.trackOSEvent("boot_completed")("initial service "+n.service))(r.pure(u.freeApplicative)(new w.Just(n)))}))},e.readIfExist=function(n){return function(e){return i.bind(u.freeBind)(C.toFlow(t["findPath'"](n)(e)))((function(n){return i.bind(u.freeBind)(C.toFlow(t["readIfExist'"](n)))((function(n){return"__failed"===n?r.pure(u.freeApplicative)(w.Nothing.value):r.pure(u.freeApplicative)(new w.Just(n))}))}))}},e.attemptRecovery=W,e.isMAppPresent=M,e.generateErrorResp=function(n){return'{"error":"true", "error_message":"'+n+'"}'},e.createIframe=function(n){return function(e){return C.toFlow(t["createIframe'"](n)(e))}},e.injectIframe=function(n){return function(e){return function(o){return i.bind(u.freeBind)(C.toFlow(t["injectIframe'"](n)(e)(o)))((function(n){return"__failed"===n?r.pure(u.freeApplicative)(new s.Left("Error occurred while injecting payload/iframe")):r.pure(u.freeApplicative)(new s.Right(!0))}))}}},e.removeIframe=function(n){return"__failed"===n?r.pure(u.freeApplicative)(t.logAny("removeIframe: iFrame "+n+" is not registered and thou shall not be removed")):C.toFlow(t["removeIframe'"](n))},e.removeView=function(n){return"__failed"===n?r.pure(u.freeApplicative)(t.logAny("removeView: App "+n+" is not registered and thou shall not be removed")):C.toFlow(t["removeView'"](n))},e.unregister=function(n){return"__failed"===n.callee?r.pure(u.freeApplicative)(t.logAny("unregister: App "+n.callee+" is not registered and thou shall not be unregistered")):i.bind(u.freeBind)(l.foldl(l.foldableArray)((function(n){return function(n){return r.pure(u.freeApplicative)(A.unit)}}))(r.pure(u.freeApplicative)(A.unit))(p.map(p.functorArray)((function(e){return t["removeEventListener'"](n.callee)(e)}))(n.eventListeners)))((function(e){return C.toFlow(t["unregister'"](n))}))},e.downloadAssets=function(n){return function(e){return function(o){return i.bind(u.freeBind)(i.bind(u.freeBind)(x("asset_metadata.json"))(w.maybe(r.pure(u.freeApplicative)({}))((function(n){return C.toFlow(C.toJSON(n))}))))((function(r){return i.bind(u.freeBind)(i.bindFlipped(u.freeBind)((function(n){return C.toFlow(C.toJSON(n))}))(N(n)))((function(a){return i.bind(u.freeBind)(R(n)(n.services))((function(c){var s=f.concat(p.map(p.functorArray)((function(i){return j(e)(r)(n)(t.getValueFromObject(t.getValueFromObject(a)("apps"))(i))(o)}))(c));t.logAny(s);return i.discard(i.discardUnit)(u.freeBind)(O("v1-tracker")(J))((function(){return i.bind(u.freeBind)(T.doAff(h.traverse(h.traversableArray)(E.applicativeAff)((function(n){return E.forkAff(V(n.location)(n.path))}))(s)))((function(n){return i.bind(u.freeBind)(T.doAff(h.traverse(h.traversableArray)(E.applicativeAff)(E.joinFiber)(n)))((function(n){return k(f.zip(s)(n))}))}))}))}))}))}))}}},e.downloadAff=V,e.download=function(n){return function(e){return T.doAff(V(n)(e))}},e.downloadFilesTopath=function(n){return function(e){return T.doAff(i.bind(E.bindAff)(h.traverse(h.traversableArray)(E.applicativeAff)((function(n){return E.forkAff(d.flip(V)(e)(n))}))(n))((function(n){return h.traverse(h.traversableArray)(E.applicativeAff)(E.joinFiber)(n)})))}},e.fetchIfModified=j,e.downloadManifest=function(n){return function(e){return U(n)(0)(e)}},e.downloadManifest_=U,e.getConfigStr=N,e.getDependantMicroApps=L,e.addEventListener=function(n){return function(e){return C.toFlow(t["addEventListener'"](n)(e))}},e.emitEvent=function(n){return function(e){return function(r){return function(o){return function(i){return t["emitEvent'"](n)(e)(r)(o)(i)}}}}},e.unregisterAllIPC=function(n){return C.toFlow(t["unregisterAllIPC'"](n))},e.registerOS=function(n){return function(e){return C.toFlow(t["registerOS'"](n)(e))}},e.getMD5=B,e.addToMAppSequence=function(n){return C.toFlow(t["addToMAppSequence'"](n))},e.triggerRegisteredFileListners=k,e.triggerRegisteredFileListner=I,e.runIfFileMatch=F,e.registerFileRule=O,e.evalAndReregisterTrackerInterfaces=J,e.waitForDeviceName=P,e.logVersions=t.logVersions,e.logAny=t.logAny,e["bootComplete'"]=t["bootComplete'"],e["mergeJBridge'"]=t["mergeJBridge'"],e["shutDown'"]=t["shutDown'"],e.getSessionInfo=t.getSessionInfo,e.getOS=t.getOS,e.getAppMetaData=t.getAppMetaData,e.shouldRespwan=t.shouldRespwan,e.registerVersion=t.registerVersion,e.getRegisteredVersions=t.getRegisteredVersions,e.handleBackpress=t.handleBackpress,e.isCug=t.isCug,e.isBeta=t.isBeta,e.devQaDetails=t.devQaDetails,e.getCurrentTime=t.getCurrentTime}(PS),function(n){"use strict";n.split=function(n){return function(e){return e.split(n)}},n.toLower=function(n){return n.toLowerCase()}}(PS["Data.String.Common"]=PS["Data.String.Common"]||{}),function(n){"use strict";n["Data.String.Common"]=n["Data.String.Common"]||{};var e=n["Data.String.Common"],t=n["Data.String.Common"];e.split=t.split,e.toLower=t.toLower}(PS),function(n){"use strict";n["Engineering.Helpers.Apply"]=n["Engineering.Helpers.Apply"]||{};var e=n["Engineering.Helpers.Apply"],t=n["Engineering.Helpers.Commons"].flowRunner,r=function(n){return function(e){return t(n(e))}},o=function(n){return function(e){return r(n(e))}};e.apply0=t,e.apply1=r,e.apply2=o,e.apply3=function(n){return function(e){return o(n(e))}}}(PS),function(exports){exports["getAppList'"]=function(config){return function(){try{var overrideConfig=function n(e,t){for(var r in t){var o=t[r],i=e[r];_typeof(i)==_typeof(o)&&(null!=o&&"object"==_typeof(o)?n(i,o):e[r]=o)}},isObject=function(n){return"object"===_typeof(n)&&null!==n},getMicroAppConfig=function(n){var e={};if(e.assets=isObject(chosenSpec.assets)&&isObject(chosenSpec.assets[n])?chosenSpec.assets[n]:{},isObject(chosenSpec.package)&&"string"==typeof chosenSpec.package[n]&&(e.assets.index_bundle=chosenSpec.package[n]),e.canOpen=[],e.src="",e.root="payments/"+n+"/",e.entry="base.html",configPackage.dependencies&&configPackage.dependencies[n]&&configPackage.dependencies[n].default)for(var t in configPackage.dependencies[n].default)e["required_apps"==t?"canOpen":t]=configPackage.dependencies[n].default[t];return e};window.configPackage=JSON.parse(config);var overrides=configPackage.overrides;null!=overrides&&Array.isArray(overrides)&&overrides.forEach((function(override){var shouldOverride=!1;try{shouldOverride=eval(override.condition)}catch(n){if(window.Analytics&&"function"==typeof window.Analytics.trackExceptionError){var stack="string"==typeof n.stack?n.stack:"",msg="string"==typeof n.message?n.message:"";window.Analytics.trackExceptionError("merchant_jos_override_exception")(stack)(msg)()}}shouldOverride&&overrideConfig(configPackage,override.result)})),window.toss_result=parseInt(100*Math.random()),window.stagger_percentage=configPackage.stagger||0;var chosenSpec=configPackage.live;if(isObject(configPackage.new)&&Object.keys(configPackage.new).length>0&&"number"==typeof configPackage.stagger&&"string"==typeof configPackage.new.id){var id=configPackage.new.id,tossInfo=void 0;try{tossInfo=JSON.parse(JBridge.getFromSharedPrefs("tossInfo"))}catch(n){}tossInfo=isObject(tossInfo)?tossInfo:{id:""},tossInfo.id!==id&&(tossInfo.toss=parseInt(100*Math.random()),tossInfo.id=id,JBridge.setInSharedPrefs("tossInfo",JSON.stringify(tossInfo))),tossInfo.toss<configPackage.stagger&&(chosenSpec=configPackage.new),window.toss=tossInfo.toss}var apps={};for(var i in configPackage.app_list){var microApp=configPackage.app_list[i];apps[microApp]=getMicroAppConfig(microApp)}var getConfigResult={apps:apps,skipRegexes:window.configPackage.skipRegexes};window.getConfig=function(n){return getConfigResult},window.package_version=chosenSpec.package_version,window.spec=chosenSpec,window.version=window.version||{},window.version["in.juspay.hyperos"]=window.version["in.juspay.hyperos"]||{},window.version["in.juspay.hyperos"].config=chosenSpec.id}catch(e){try{eval(config)}catch(n){if(window.Analytics&&"function"==typeof window.Analytics.trackEventInfo){var msg="string"==typeof n.message?n.message:"";window.Analytics.trackEventInfo("jos_config_exception")(msg)()}}}}}}(PS["Engineering.Helpers.Config"]=PS["Engineering.Helpers.Config"]||{}),function(n){"use strict";n["Engineering.Helpers.Config"]=n["Engineering.Helpers.Config"]||{};var e=n["Engineering.Helpers.Config"],t=n["Engineering.Helpers.Config"],r=n["Data.Show"],o=n["Engineering.Helpers.Commons"],i=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),s=new r.Show((function(n){if(n instanceof a)return"Beta";if(n instanceof u)return"Cug";if(n instanceof c)return"Release";if(n instanceof f)return"Common";if(n instanceof i)return"devqa/picaf-"+n.value0;throw new Error("Failed pattern match at Engineering.Helpers.Config (line 12, column 1 - line 12, column 43): "+[n.constructor.name])}));e.DevQA=i,e.Beta=a,e.Cug=u,e.Release=c,e.Common=f,e.getAppList=function(n){return o.toFlow(t["getAppList'"](n))},e.showConfigType=s}(PS),function(n){"use strict";n["Presto.Core.Operators"]=n["Presto.Core.Operators"]||{};var e=n["Presto.Core.Operators"],t=n["Control.Monad.Free"],r=n["Data.Foldable"],o=n["Presto.Core.Types.Language.Flow"],i=r.traverse_(t.freeApplicative)(r.foldableArray)(o.launch);e["inParallel'"]=i}(PS),function(n){"use strict";n["Product.Helpers"]=n["Product.Helpers"]||{};var e=n["Product.Helpers"],t=n["Control.Applicative"],r=n["Control.Bind"],o=n["Control.Monad.Free"],i=n["Data.Either"],a=n["Data.Maybe"],u=n["Data.String.CodeUnits"],c=n["Data.Traversable"],f=n["Data.Unit"],s=n.Effect,l=n["Effect.Aff"],d=n["Effect.Class"],p=n["Engineering.Helpers.Commons"],w=n["Engineering.Helpers.Utils"],v=n["Presto.Core.Types.Language.Flow"],g=n["Tracker.Tracker"],m=function(n){return function(e){return function(i){return function(a){return function(c){return r.bind(o.freeBind)(v.doAff(d.liftEffect(l.monadEffectAff)(w.isMAppPresent(c))))((function(r){if(r||u.contains("placeholder")(c))return t.pure(o.freeApplicative)(f.unit);var l=e({caller:n,callee:n,callback:a,eventListeners:[],ipcChannels:[]}),d=function(){var n={};for(var e in i)({}).hasOwnProperty.call(i,e)&&(n[e]=i[e]);return n.service=c,n.service_based=!0,n.attempt_recovery=!1,n}();return p.toFlow(l.startApp(c)(d)((function(n){return function(n){return t.pure(s.applicativeEffect)(f.unit)}})))}))}}}}},y=function(n){return function(e){return function(t){return r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("micro_app_ended")(n.callee))((function(){return r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("micro_app_response")(t))((function(){return p.toFlow(n.callback(e)(t))}))}))}}},h=function(n){return function(n){return function(e){return function(t){return r.discard(r.discardUnit)(o.freeBind)(g.trackOSCritical("micro_app_killed")("")(n))((function(){return r.discard(r.discardUnit)(o.freeBind)(g.trackOSCritical("micro_app_response")("")(w.generateErrorResp(t)))((function(){return p.toFlow(e(0)(w.generateErrorResp(t)))}))}))}}}},A=function(n){return w.unregisterAllIPC(n.callee)},S="https://assets.juspay.in/juspay/payments/2.0/release/v1-config.zip",E=function(n){return function(e){return function(i){return function(a){return function(u){if(n)return r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("attempting_recovery")(i))((function(){return r.bind(o.freeBind)(w.download(S)(""))((function(n){return n?r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("attempting_recovery")("new config recieved, attempting recovery"))((function(){return r.discard(r.discardUnit)(o.freeBind)(w.attemptRecovery)((function(){return t.pure(o.freeApplicative)(!1)}))})):r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("attempting_recovery")("config is not new, attempting recovery"))((function(){return r.discard(r.discardUnit)(o.freeBind)(w.attemptRecovery)((function(){return t.pure(o.freeApplicative)(!1)}))}))}))}));if(!n)return r.discard(r.discardUnit)(o.freeBind)(g.trackOSEvent("attempting_recovery")("RECOVERY FAILED"))((function(){return r.discard(r.discardUnit)(o.freeBind)(h()(i)(a)(u))((function(){return t.pure(o.freeApplicative)(!1)}))}));throw new Error("Failed pattern match at Product.Helpers (line 45, column 1 - line 45, column 88): "+[n.constructor.name,e.constructor.name,i.constructor.name,a.constructor.name,u.constructor.name])}}}}};e.onError=h,e.beforeInit=function(n){return function(n){return function(e){return function(t){return r.bind(o.freeBind)(w.readIfExist(e)(n))((function(e){if(e instanceof a.Just)return w.createIframe(n)(e.value0);if(e instanceof a.Nothing)return h()(n)(t)("Could find/read "+n);throw new Error("Failed pattern match at Product.Helpers (line 28, column 3 - line 30, column 75): "+[e.constructor.name])}))}}}},e.init=function(n){return function(e){return function(a){return function(u){return function(c){return r.bind(o.freeBind)(w.injectIframe(e)(a)(u({caller:n,callee:e,callback:c,eventListeners:[],ipcChannels:[]})))(i.either(E(a.attempt_recovery)(n)(e)(c))((function(n){return t.pure(o.freeApplicative)(!0)})))}}}}},e.afterInit=function(n){return function(e){return function(t){return function(i){return function(a){return r.discard(r.discardUnit)(o.freeBind)(w.registerOS(e)(i({caller:n,callee:e,callback:a,eventListeners:[],ipcChannels:[]})))((function(){return r.discard(r.discardUnit)(o.freeBind)(w.addToMAppSequence(e))((function(){return r.bind(o.freeBind)(w.getDependantMicroApps(t)(e))((function(n){return r.bind(o.freeBind)(c.traverse(c.traversableArray)(o.freeApplicative)(m(e)(i)(t)(a))(n))((function(n){return g.trackOSEvent("micro_app_boot_complete")(e)}))}))}))}))}}}}},e.attemptRecovery=E,e.fallbackConfigUrl=S,e.startDependantMicroApps=m,e.beforeUnload=function(n){return function(e){return function(e){return A(n)}}},e.unload=function(n){return function(e){return function(e){return r.discard(r.discardUnit)(o.freeBind)(w.removeView(n.callee))((function(){return w.removeIframe(n.callee)}))}}},e.afterUnload=function(n){return function(e){return function(t){return r.discard(r.discardUnit)(o.freeBind)(w.unregister(n))((function(){return y(n)(e)(t)}))}}},e.killIPC=A,e.returnToCaller=y}(PS),function(n){"use strict";n["Product.BootLoader"]=n["Product.BootLoader"]||{};var e=n["Product.BootLoader"],t=n["Control.Applicative"],r=n["Control.Bind"],o=n["Control.Category"],i=n["Control.Monad.Free"],a=n["Data.Array"],u=n["Data.Boolean"],c=n["Data.Function"],f=n["Data.Functor"],s=n["Data.Maybe"],l=n["Data.Show"],d=n["Data.String.Common"],p=n["Data.Traversable"],w=n["Data.Unit"],v=n.Effect,g=n["Effect.Aff"],m=n["Effect.Class"],y=n["Engineering.Helpers.Apply"],h=n["Engineering.Helpers.Commons"],A=n["Engineering.Helpers.Config"],S=n["Engineering.Helpers.Utils"],E=n["Presto.Core.Operators"],_=n["Presto.Core.Types.Language.Flow"],C=n["Product.Helpers"],b=n["Tracker.Tracker"],T=function(n){return function(e){return function(t){return function(o){return r.bind(i.freeBind)(S.downloadManifest(o)(e))((function(e){return S.downloadAssets(n)(e)(t)}))}}}},D=function(n){if(n instanceof s.Nothing)return t.pure(i.freeApplicative)(w.unit);if(n instanceof s.Just){if(n.value0.use_local_assets)return t.pure(i.freeApplicative)(w.unit);if(u.otherwise){var e=function(n){return r.bind(i.freeBind)(h.useAndReturnFlip(h.useAndReturnFlip(S.readFile(n))(A.getAppList))(c.const(S.loadedSuccessfully(n))))((function(n){return S.trackConfig(n)}))},v=function(e){if(e instanceof A.Common)return"https://assets.juspay.in/juspay/payments/2.0/"+(n.value0.betaAssets?"beta":"release")+"/v1-config.zip";var t,r=d.toLower(s.fromMaybe("")(a.head(d.split("_")(n.value0.payload.clientId))));return((t=e)instanceof A.Common?"https://assets.juspay.in/juspay/payments/2.0/":t instanceof A.DevQA||t instanceof A.Beta?"https://sandbox.assets.juspay.in/hyper/bundles/in.juspay.merchants/":"https://assets.juspay.in/hyper/bundles/in.juspay.merchants/")+r+"/"+d.toLower(S.getOS(w.unit))+"/"+d.toLower(l.show(A.showConfigType)(e))+"/config.json"},g=function o(a){return function(u){if(u)return a instanceof A.Release?r.bind(i.freeBind)(h.toFlow(S.isBeta(n.value0)))((function(o){return r.bind(i.freeBind)(h.toFlow(S.isCug(n.value0)))((function(n){return r.discard(r.discardUnit)(i.freeBind)(t.when(i.freeApplicative)(o||n)(b.trackOSEvent("merchant_config")("Unable to find "+(o?"BETA":"CUG")+" merchant config even though RELEASE was found.")))((function(){return e("config.json")}))}))})):a instanceof A.Common?r.bind(i.freeBind)(S.readFile("config.json"))((function(n){return""!==n?t.pure(i.freeApplicative)(w.unit):e("v1-config.jsa")})):e("config.json");if(!u)return r.bind(i.freeBind)(a instanceof A.Common?S.readFile("v1-config.jsa"):S.readFile("config.json"))((function(n){return""!==n?t.pure(i.freeApplicative)(S.logAny("retaining config")):a instanceof A.Common?t.pure(i.freeApplicative)(w.unit):a instanceof A.Release?t.pure(i.freeApplicative)(S.logAny("retaining common config")):r.bind(i.freeBind)(S.download(v(A.Release.value))(""))(o(A.Release.value))}));throw new Error("Failed pattern match at Product.BootLoader (line 93, column 9 - line 93, column 65): "+[a.constructor.name,u.constructor.name])}},m="https://assets.juspay.in/juspay/payments/"+(n.value0.betaAssets?"beta":"release")+"/sdk_config.json",y="https://assets.juspay.in/juspay/payments"+("IOS"===S.getOS(w.unit)?"/IOS":"")+"/manifest.json";return r.discard(r.discardUnit)(i.freeBind)(t.when(i.freeApplicative)("IOS"===S.getOS(w.unit))(S.waitForDeviceName))((function(){return r.bind(i.freeBind)(h.toFlow(S.isBeta(n.value0)))((function(e){return r.bind(i.freeBind)(h.toFlow(S.isCug(n.value0)))((function(t){return r.bind(i.freeBind)(h.toFlow(S.devQaDetails))((function(l){var d=function(){if(l.isDevQa)return new A.DevQA(l.ticketId);if(e)return A.Beta.value;if(t)return A.Cug.value;if(u.otherwise)return A.Release.value;throw new Error("Failed pattern match at Product.BootLoader (line 81, column 9 - line 85, column 32): "+[])}(),w=v(d);return r.bind(i.freeBind)(f.map(i.freeFunctor)(s.fromMaybe(m))(S.sdkLocation(n.value0)))((function(e){return r.bind(i.freeBind)(f.map(i.freeFunctor)(s.fromMaybe(y))(S.manifestLocation(n.value0)))((function(t){return r.bind(i.freeBind)(S.downloadFilesTopath([v(A.Common.value),w,e,t])(""))((function(e){return f.void(i.freeFunctor)(p.traverse(p.traversableArray)(i.freeApplicative)(o.identity(o.categoryFn))(a.zipWith(c.apply)([g(A.Common.value),g(d),S.renewConfig,T(n.value0)(t)(l.isDevQa)])(e)))}))}))}))}))}))}))}))}}throw new Error("Failed pattern match at Product.BootLoader (line 71, column 1 - line 71, column 58): "+[n.constructor.name])},P=function(n){return r.bind(i.freeBind)(_.doAff(m.liftEffect(g.monadEffectAff)(S.getCurrentTime)))((function(e){return r.discard(r.discardUnit)(i.freeBind)(D(n))((function(){return r.bind(i.freeBind)(_.doAff(m.liftEffect(g.monadEffectAff)(S.getCurrentTime)))((function(n){return b.trackOSEventPayload("file_download_time")({fileName:"all_new_files",time:n-e|0})}))}))}))},F={service:"in.juspay.hyperos",pre_fetch:"false",betaAssets:!1,service_based:!1,use_local_assets:!1,attempt_recovery:!0,services:["in.juspay.hyperos"],payload:{clientId:""}},I=function(n){return function(e){return function(t){return r.discard(r.discardUnit)(i.freeBind)(C.beforeUnload(n)(e)(t))((function(){return r.discard(r.discardUnit)(i.freeBind)(C.unload(n)(e)(t))((function(){return C.afterUnload(n)(e)(t)}))}))}}},k=function(n){return function(e){return function(o){return function(a){return r.discard(r.discardUnit)(i.freeBind)(C.beforeInit(n)(e)(o)(a))((function(){return r.bind(i.freeBind)(C.init(n)(e)(o)(O)(a))((function(r){return r?C.afterInit(n)(e)(o)(O)(a):t.pure(i.freeApplicative)(w.unit)}))}))}}}},O=function(n){return{finish:y.apply2(I(n)),startApp:y.apply3(k(n.callee)),addEventListener:y.apply1(S.addEventListener(n.callee)),emitEvent:S.emitEvent(n.callee),parent:n.caller,self:n.callee,eventListeners:[],isMAppPresent:S.isMAppPresent,registerVersion:S.registerVersion,getRegisteredVersions:S.getRegisteredVersions,handleBackpress:S.handleBackpress(n.callee)}},x=function(n){return r.discard(r.discardUnit)(i.freeBind)(t.pure(i.freeApplicative)(S.logAny(n)))((function(){var e="null"===n.service;if(e)return t.pure(i.freeApplicative)(w.unit);if(!e)return r.discard(r.discardUnit)(i.freeBind)(h.toFlow(S["mergeJBridge'"]))((function(){return k("java")(n.service)(n)(S["shutDown'"]("initiate")(n))}));throw new Error("Failed pattern match at Product.BootLoader (line 194, column 3 - line 198, column 79): "+[e.constructor.name])}))},M=function(n){return h.toFlow(S["shutDown'"]("initiate")(F)(0)(S.generateErrorResp("Service not passed in the bundle")))},B=function(n){return s["maybe'"](M)(x)(n)};e.mainFlow=function(n){return function(n){return r.discard(r.discardUnit)(i.freeBind)(h.toFlow(r.bindFlipped(v.bindEffect)(b.trackSessionInfo)(S.getSessionInfo)))((function(){return r.bind(i.freeBind)(S.readFile("v1-config.jsa"))((function(e){return r.bind(i.freeBind)(S.readFile("config.json"))((function(o){return r.discard(r.discardUnit)(i.freeBind)(""===e&&""===o?b.trackOSCritical("jos_config_not_found")("hyper-core -> Bootloader.purs -> mainFlow")("No config found for hyperos, continuing w/ polyfilled config."):r.discard(r.discardUnit)(i.freeBind)(A.getAppList(e))((function(){return""!==o?r.discard(r.discardUnit)(i.freeBind)(A.getAppList(o))((function(){return S.loadedSuccessfully("config.json")})):S.loadedSuccessfully("v1-config.jsa")})))((function(){return r.discard(r.discardUnit)(i.freeBind)(h.toFlow(S.logVersions))((function(){return r.bind(i.freeBind)(S.bootComplete(n))((function(n){var a=""!==o?o:e;if(n instanceof s.Nothing)return t.pure(i.freeApplicative)(w.unit);if(n instanceof s.Just)return r.discard(r.discardUnit)(i.freeBind)(t.when(i.freeApplicative)("IOS"===S.getOS(w.unit))(S.waitForDeviceName))((function(){return r.bind(i.freeBind)(h.toFlow(S.isCug(n.value0)))((function(e){return r.bind(i.freeBind)(h.toFlow(S.devQaDetails))((function(e){return E["inParallel'"]([P(n),B(n),S.trackConfig(a)])}))}))}));throw new Error("Failed pattern match at Product.BootLoader (line 49, column 3 - line 62, column 103): "+[n.constructor.name])}))}))}))}))}))}))}},e.updateAssetsWithTime=P,e.updateAssets=D,e.postManifestDownload=T,e.onBootComplete=B,e.bootError=M,e.payloadFailureData=F,e.bootSuccess=x,e.startApp=k,e.onFinish=I,e.os_hooks=O}(PS),function(n){"use strict";n["Product.Flows"]=n["Product.Flows"]||{};var e=n["Product.Flows"],t=n["Control.Applicative"],r=n["Control.Bind"],o=n["Control.Monad.Free"],i=n["Data.Array"],a=n["Data.Function"],u=n["Data.Functor"],c=n["Data.Maybe"],f=n["Data.String.CodeUnits"],s=n["Data.String.Common"],l=n["Data.Traversable"],d=n["Data.Unit"],p=n.Effect,w=n["Effect.Aff"],v=n["Effect.Class"],g=n["Engineering.Helpers.Commons"],m=n["Engineering.Helpers.Config"],y=n["Engineering.Helpers.Utils"],h=n["Presto.Core.Types.Language.Flow"],A=n["Product.BootLoader"],S=n["Tracker.Tracker"],E=function(n){return function(e){return g.flowRunner(r.bind(o.freeBind)(y.bootComplete(n))((function(n){return r.bind(o.freeBind)(h.doAff(v.liftEffect(w.monadEffectAff)(c.fromMaybe(t.pure(p.applicativeEffect)(!1))(u.map(c.functorMaybe)((function(n){return y.shouldRespwan(n)(e)}))(n)))))((function(n){return n?A.onFinish(y.getAppMetaData(e))(0)("FORCE CLOSED BY JOS"):t.pure(o.freeApplicative)(d.unit)}))})))}},_=function(n){return function(e){return g.flowRunner(r.bind(o.freeBind)(y.bootComplete(n))((function(n){return n instanceof c.Just?r.bind(o.freeBind)(h.doAff(v.liftEffect(w.monadEffectAff)(y.shouldRespwan(n.value0)(e))))((function(r){return r?A.startApp(n.value0.service===e?"java":n.value0.service)(e)(n.value0)((function(n){return function(n){return t.pure(p.applicativeEffect)(d.unit)}})):t.pure(o.freeApplicative)(d.unit)})):t.pure(o.freeApplicative)(d.unit)})))}},C=function(n){return i.filter(f.contains("in.juspay."))(s.split("/")(n))};e.respawnFlow=function(n){return function(e){return function(){l.traverse(l.traversableArray)(p.applicativeEffect)(E(n))(C(e))(),l.traverse(l.traversableArray)(p.applicativeEffect)(_(n))(C(e))();return d.unit}}},e.getMicroAppsFromFileName=C,e.stopApp=E,e.startApp=_,e.prefetchFlow=function(n){return r.bind(o.freeBind)(y.readFile("config.json"))((function(e){return r.discard(r.discardUnit)(o.freeBind)(""!==e?r.bind(o.freeBind)(m.getAppList(e))(a.const(y.loadedSuccessfully("config.json"))):r.bind(o.freeBind)(r.bind(o.freeBind)(y.readFile("v1-config.jsa"))(m.getAppList))(a.const(y.loadedSuccessfully("v1-config.jsa"))))((function(){return r.bind(o.freeBind)(y.bootComplete(n))((function(n){return r.discard(r.discardUnit)(o.freeBind)(c.maybe(t.pure(o.freeApplicative)(d.unit))(S.trackPaymentDetails)(n))((function(){return r.discard(r.discardUnit)(o.freeBind)(A.updateAssets(n))((function(){return h.doAff(v.liftEffect(w.monadEffectAff)(function(){if(n instanceof c.Just)return y["shutDown'"]("prefetch")(n.value0)(-1)("PreFetch completed");if(n instanceof c.Nothing)return t.pure(p.applicativeEffect)(d.unit);throw new Error("Failed pattern match at Product.Flows (line 62, column 24 - line 64, column 21): "+[n.constructor.name])}()))}))}))}))}))}))}}(PS),function(n){"use strict";n.Core=n.Core||{};var e=n.Core,t=n["Control.Bind"],r=n["Control.Monad.Free"],o=n["Engineering.Helpers.Commons"],i=n["Engineering.Helpers.Utils"],a=n["Product.BootLoader"],u=n["Product.Flows"],c=u.respawnFlow,f=function(n){return function(e){return t.discard(t.discardUnit)(r.freeBind)(i.loadedSuccessfully("v1-boot_loader.jsa"))((function(){return a.mainFlow(n)(e)}))}};e.appFlow=f,e.main=function(n){return function(e){return o.flowRunner(f(n)(e))}},e.respawn=c,e.prefetch=function(n){return o.flowRunner(u.prefetchFlow(n))},e.getDependantMicroAppChain=function(n){return function(e){return function(){var t=i["bootComplete'"](n)();return i["getDependantMicroAppChain'"](t)([e])()}}}}(PS),module.exports=PS}).call(this,__webpack_require__(0).setImmediate,__webpack_require__(0).clearImmediate)},function(n,e,t){(function(n,e){!function(n,t){"use strict";if(!n.setImmediate){var r,o,i,a,u,c=1,f={},s=!1,l=n.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(n);d=d&&d.setTimeout?d:n,"[object process]"==={}.toString.call(n.process)?r=function(n){e.nextTick((function(){w(n)}))}:!function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?n.MessageChannel?((i=new MessageChannel).port1.onmessage=function(n){w(n.data)},r=function(n){i.port2.postMessage(n)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,r=function(n){var e=l.createElement("script");e.onreadystatechange=function(){w(n),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(n){setTimeout(w,0,n)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&w(+e.data.slice(a.length))},n.addEventListener?n.addEventListener("message",u,!1):n.attachEvent("onmessage",u),r=function(e){n.postMessage(a+e,"*")}),d.setImmediate=function(n){"function"!=typeof n&&(n=new Function(""+n));for(var e=new Array(arguments.length-1),t=0;t<e.length;t++)e[t]=arguments[t+1];var o={callback:n,args:e};return f[c]=o,r(c),c++},d.clearImmediate=p}function p(n){delete f[n]}function w(n){if(s)setTimeout(w,0,n);else{var e=f[n];if(e){s=!0;try{!function(n){var e=n.callback,t=n.args;switch(t.length){case 0:e();break;case 1:e(t[0]);break;case 2:e(t[0],t[1]);break;case 3:e(t[0],t[1],t[2]);break;default:e.apply(void 0,t)}}(e)}finally{p(n),s=!1}}}}}("undefined"==typeof self?void 0===n?this:n:self)}).call(this,t(1),t(5))},function(n,e){var t,r,o=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(n){if(t===setTimeout)return setTimeout(n,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(n){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var c,f=[],s=!1,l=-1;function d(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!s){var n=u(d);s=!0;for(var e=f.length;e;){for(c=f,f=[];++l<e;)c&&c[l].run();l=-1,e=f.length}c=null,s=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(n)}}function w(n,e){this.fun=n,this.array=e}function v(){}o.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];f.push(new w(n,e)),1!==f.length||s||u(p)},w.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(n){return[]},o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);
