-- ONLY FOR LOCAL TESTING --
update atlas_driver_offer_bpp.transporter_config set consider_drivers_for_search = false;

INSERT INTO atlas_driver_offer_bpp.special_location (id, location_name, category, gates, geom, created_at, merchant_operating_city_id, updated_at, location_type, merchant_id)
VALUES
  ( '9h8016d0-f9cd-4f9f-886f-bc4cbh6a86ea'
  , 'Start Point'
  , 'SureAirport'
  , '{}'
  , '01060000000100000001030000000100000013000000B4608E3E446B5340C8C9FABD1F6C2A4074CDBEC1846B5340000D098D14602A408A862A854A6D53407408A29AEF5F2A407FF5F8FE916D53403CB8DA9807602A4074C08F9EE96D53400434E9F4B25F2A407974C3755A6E534054974421175F2A40CAC438DD986E534055165D92DB5E2A40B6FA0F06156F53401A0435D1045E2A403674F00A436F5340A085F718AB5D2A40B5DA5EA8506F534076FF8CA8AF5D2A4096FD518F546F5340430EE3021E5E2A40DB6B54755B6F5340D64D4BC948602A4038C195D8766F5340602074892D612A40AE4D89A6496F5340283EE6ED35652A402CAD16C8226F534088543211016A2A4030E9746C086E5340889658540D6C2A4054F56E39326C534008E4B2D27B6C2A40F023E2EC5C6B5340B84A8C67696C2A40B4608E3E446B5340C8C9FABD1F6C2A40'
  , now()
  , 'favorit0-0000-0000-0000-00000000city'
  , now(),
  'FixedRoute',
  'favorit0-0000-0000-0000-00000favorit'
  );

INSERT INTO atlas_driver_offer_bpp.special_location (id, location_name, category, gates, geom, created_at, merchant_operating_city_id, updated_at, location_type, merchant_id)
VALUES
  ( '9h8016d0-f9cd-4f9f-886f-bc4cbh6a86eb'
  , 'End Point'
  , 'SureAirport'
  , '{}'
  , '01060000000100000001030000000100000013000000B4608E3E446B5340C8C9FABD1F6C2A4074CDBEC1846B5340000D098D14602A408A862A854A6D53407408A29AEF5F2A407FF5F8FE916D53403CB8DA9807602A4074C08F9EE96D53400434E9F4B25F2A407974C3755A6E534054974421175F2A40CAC438DD986E534055165D92DB5E2A40B6FA0F06156F53401A0435D1045E2A403674F00A436F5340A085F718AB5D2A40B5DA5EA8506F534076FF8CA8AF5D2A4096FD518F546F5340430EE3021E5E2A40DB6B54755B6F5340D64D4BC948602A4038C195D8766F5340602074892D612A40AE4D89A6496F5340283EE6ED35652A402CAD16C8226F534088543211016A2A4030E9746C086E5340889658540D6C2A4054F56E39326C534008E4B2D27B6C2A40F023E2EC5C6B5340B84A8C67696C2A40B4608E3E446B5340C8C9FABD1F6C2A40'
  , now()
  , 'favorit0-0000-0000-0000-00000000city'
  , now(),
  'FixedRoute',
  'favorit0-0000-0000-0000-00000favorit'
  );

INSERT INTO atlas_driver_offer_bpp.fare_product (
    area,
    enabled,
    fare_policy_id,
    id,
    merchant_id,
    merchant_operating_city_id,
    time_bounds,
    trip_category,
    vehicle_variant,
    search_source,
    disable_recompute
)
SELECT
    'PickupDrop_9h8016d0-f9cd-4f9f-886f-bc4cbh6a86ea_9h8016d0-f9cd-4f9f-886f-bc4cbh6a86eb',
    enabled,
    fare_policy_id,
    md5(random()::text || clock_timestamp()::text)::uuid,
    merchant_id,
    merchant_operating_city_id,
    time_bounds,
    'OneWay_OneWayRideOtp',
    vehicle_variant,
    search_source,
    disable_recompute
FROM atlas_driver_offer_bpp.fare_product
WHERE trip_category = 'OneWay_OneWayOnDemandDynamicOffer' and merchant_operating_city_id in (SELECT id FROM atlas_driver_offer_bpp.merchant_operating_city WHERE city = 'Kochi' and merchant_short_id = 'NAMMA_YATRI_PARTNER');
