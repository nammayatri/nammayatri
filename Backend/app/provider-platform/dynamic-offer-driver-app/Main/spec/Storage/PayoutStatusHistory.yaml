imports:
  ScheduledPayout: Domain.Types.ScheduledPayout
  ScheduledPayoutStatus: Domain.Types.ScheduledPayout
  Merchant: Domain.Types.Merchant
  MerchantOperatingCity: Domain.Types.MerchantOperatingCity

PayoutStatusHistory:
  tableName: payout_status_history
  derives: "Generic,Show,Eq,ToJSON,FromJSON"
  fields:
    id: Id PayoutStatusHistory
    scheduledPayoutId: Id ScheduledPayout
    status: ScheduledPayoutStatus
    message: Maybe Text
    createdAt: UTCTime

  constraints:
    id: PrimaryKey
    scheduledPayoutId: SecondaryKey

  queries:
    findByScheduledPayoutId:
      kvFunction: findAllWithOptionsKV
      where: scheduledPayoutId
      orderBy: createdAt
