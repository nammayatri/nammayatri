imports:
  Merchant: Domain.Types.Merchant
  Person: Domain.Types.Person
  FleetType : Domain.Types.FleetType

FleetOwnerInformation:
  tableName: fleet_owner_information
  fields:
    merchantId: Id Merchant
    fleetOwnerPersonId : Id Person
    enabled: Bool
    blocked: Bool
    verified: Bool
    gstNumber: Maybe Text
    panNumber: Maybe Text
    fleetType: FleetType
    gstImageId : Maybe Text
    panImageId: Maybe Text
    aadhaarNumber: Maybe Text
    aadhaarFrontImageId: Maybe Text
    aadhaarBackImageId: Maybe Text
    businessLicenseNumber : Maybe Text
    businessLicenseImageId : Maybe Text
    referredByOperatorId: Maybe Text
    registeredAt: Maybe UTCTime
  sqlType:
    referredByOperatorId: character varying (36)
  excludedFields: [merchantOperatingCityId]
  types:
    FleetType:
      enum: "RENTAL_FLEET,NORMAL_FLEET,BUSINESS_FLEET"

  constraints:
    fleetOwnerPersonId : PrimaryKey

  queries:
    updateFleetOwnerVerifiedStatus:
      kvFunction: updateOneWithKV
      params: [verified, updatedAt]
      where: fleetOwnerPersonId
    updateGstImage:
      kvFunction: updateOneWithKV
      params: [gstNumber, gstImageId, updatedAt]
      where: fleetOwnerPersonId
    updatePanImage:
      kvFunction: updateOneWithKV
      params: [panNumber, panImageId, updatedAt]
      where: fleetOwnerPersonId
    updateBusinessLicenseImage:
      kvFunction: updateOneWithKV
      params: [businessLicenseImageId, updatedAt]
      where: fleetOwnerPersonId
    updateAadhaarImage:
      kvFunction: updateOneWithKV
      params: [aadhaarNumber, aadhaarFrontImageId, aadhaarBackImageId, updatedAt]
      where: fleetOwnerPersonId
    updateBusinessLicenseImageAndNumber:
      kvFunction: updateOneWithKV
      params: [businessLicenseImageId, businessLicenseNumber, updatedAt, registeredAt]
      where: fleetOwnerPersonId
    updateRegistration:
      kvFunction: updateOneWithKV
      params: [registeredAt]
      where: fleetOwnerPersonId
    updateFleetOwnerGstNumberAndEnabledStatus:
      kvFunction: updateOneWithKV
      params: [gstNumber, enabled, updatedAt]
      where: fleetOwnerPersonId
    updateFleetOwnerEnabledStatus:
      kvFunction: updateOneWithKV
      params: [enabled]
      where: fleetOwnerPersonId
    updateReferredByOperatorId:
      kvFunction: updateOneWithKV
      params: [referredByOperatorId]
      where: fleetOwnerPersonId
