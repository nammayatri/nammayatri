imports:
  Text: Data.Text
  Person: Domain.Types.Person
  PickupInstructions: Domain.Types.PickupInstructions
  APISuccess: Kernel.Types.APISuccess

module: PickupInstructions

types:
  PickupInstructionsReq:
    lat: Double
    lon: Double
    instruction: Text

  ClosestPickupInstructionResp:
    instruction: "Maybe Text"

apis:
  # POST /pickupinstructions - Save pickup instructions
  - POST:
      endpoint: /pickupinstructions
      auth: TokenAuth
      request:
        type: API.Types.UI.PickupInstructions.PickupInstructionsReq
      response:
        type: Kernel.Types.APISuccess.APISuccess

  # GET /pickupinstructions/closest - Get closest pickup instruction for location
  - GET:
      endpoint: /pickupinstructions/closest
      auth: TokenAuth
      query:
        lat: Double
        lon: Double
      response:
        type: API.Types.UI.PickupInstructions.ClosestPickupInstructionResp