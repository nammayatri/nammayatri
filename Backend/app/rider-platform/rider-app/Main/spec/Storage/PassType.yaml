imports:
  Merchant: Domain.Types.Merchant
  MerchantOperatingCity: Domain.Types.MerchantOperatingCity
  PassCategory: Domain.Types.PassCategory

PassType:
  tableName: pass_type

  types:
    PassClass:
      enum: "Unlimited, StoredValuePass"
      derive': "Show, Eq, Ord, Read, Generic, ToJSON, FromJSON, ToSchema, Enum, Bounded"

  fields:
    id: Id PassType
    passCategoryId: Id PassCategory
    code: Maybe Text
    name: Maybe Text
    catchline: Maybe Text
    title: Text
    description: Maybe Text
    order: Int
    merchantId: Id Merchant
    merchantOperatingCityId: Id MerchantOperatingCity
    passClass: PassClass

  constraints:
    id: PrimaryKey
    passCategoryId: "!SecondaryKey"

  beamType:
    passClass: Maybe PassClass

  fromTType:
    passClass: fromMaybe Unlimited passClass|E

  toTType:
    passClass: Just passClass|E

  sqlType:
    passClass: character varying(255)

  extraOperations:
    - EXTRA_QUERY_FILE