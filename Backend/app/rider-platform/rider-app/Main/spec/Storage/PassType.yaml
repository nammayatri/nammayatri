imports:
  Merchant: Domain.Types.Merchant
  MerchantOperatingCity: Domain.Types.MerchantOperatingCity
  PassCategory: Domain.Types.PassCategory

PassType:
  tableName: pass_type

  fields:
    id: Id PassType
    passCategoryId: Id PassCategory
    name: Maybe Text
    catchline: Maybe Text
    title: Text
    description: Maybe Text
    order: Int
    merchantId: Id Merchant
    merchantOperatingCityId: Id MerchantOperatingCity
    passEnum: Maybe PassEnum

  types:
    PassEnum:
      enum: "TouristPass, RegularPass, StudentPass"
      derive': "Show, Eq, Ord, Read, Generic, ToJSON, FromJSON, ToSchema, ToParamSchema"

  constraints:
    id: PrimaryKey
    passCategoryId: !SecondaryKey

  domainInstance:
    - Custom Kernel.Utils.TH.mkHttpInstancesForEnum <PassEnum>
    - Custom Kernel.Beam.Lib.UtilsTH.mkBeamInstancesForEnum <PassEnum>

  extraOperations:
    - EXTRA_QUERY_FILE
