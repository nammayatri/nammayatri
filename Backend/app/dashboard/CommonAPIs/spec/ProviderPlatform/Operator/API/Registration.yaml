imports:
  Operator: Dashboard.Common

module: Registration
apiPrefix: operator

apis:
  - POST:
      endpoint: /register
      auth: ApiAuthV2
      name: postOperatorRegister
      request:
        type: OperatorRegisterReq
      response:
        type: APISuccess
      helperApi:
      - POST:
          endpoint: /register
          auth: ApiAuthV2
          request:
            type: OperatorRegisterReq
          response:
            type: OperatorRegisterResp
  - POST:
      endpoint: /dashboard/register
      auth: ApiAuthV2
      request:
        type: CreateDashboardOperatorReq
      response:
        type: APISuccess
      helperApi:
      - POST:
          endpoint: /dashboard/register
          auth: ApiAuthV2
          request:
            type: CreateDashboardOperatorReq
          response:
            type: OperatorRegisterResp
types:
  OperatorRegisterReq:
    firstName: Text
    lastName: Text
    mobileNumber: Text
    mobileCountryCode: Text
    email: Maybe Text
  OperatorRegisterTReq: # hide secrets
    firstName: Text
    lastName: Text
  OperatorRegisterResp:
    recordType: NewType
    personId: Id Operator

  CreateDashboardOperatorReq:
    firstName: Text
    lastName: Text
    roleId: Text
    email: Text
    mobileNumber: Text
    mobileCountryCode: Text
    password: Text
    fleetAssignment: Maybe CreateDashboardOperatorFleetAssignmentReq

  CreateDashboardOperatorFleetAssignmentReq:
    fleetOwnerMobileNo: Text
    fleetOwnerMobileCountryCode: Text

extraOperations:
  - EXTRA_API_TYPES_FILE
